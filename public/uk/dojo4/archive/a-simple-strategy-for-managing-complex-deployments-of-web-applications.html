<html color-mode="user" lang="uk">
  <head>
  <base href='/uk' />
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>Проста стратегія для управління складними розгортаннями веб-додатків</title>

<meta property="og:title" content="Проста стратегія для управління складними розгортаннями веб-додатків"/>
<meta property="og:description" content="рухайтеся далі." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />


  <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"a-simple-strategy-for-managing-complex-deployments-of-web-applications"}">
    <meta property="site:path_info" content=""/a-simple-strategy-for-managing-complex-deployments-of-web-applications"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
<hr>
    </header>

    <main>
      <div class="ro markdown">
  <p>Розгортання веб-додатків складні з самого початку. Часто починають принаймні з етапів розгортання та виробництва. Додайте до цього багатооренду, конфігурації для інтеграції сторонніх служб, таких як автентифікація Facebook або Salesforce, конфігурації для хмарного сховища та мереж розподілу контенту, середовища безперервної інтеграції, багатоклієнтське темування, конфігурації SSL, конфігурації віртуальних хостів, конфігурації процесів збірки для фронтендів JavaScript, конфігурації фонових завдань, конфігурації обробки завантажень, список триває… комбінаторний вибух.</p>

<p>У dojo4 у нас є стек веб-додатків на базі Rails, і ми використовуємо Multistage Capistrano для розгортання на вузлах AWS EC2. Ми знайшли просту стратегію для управління великою різноманітністю конфігурацій та вимог до розгортання, з якими зіткнулися наші клієнти. Стратегія передбачає завдання rake, яке використовує змінну середовища RAILS_STAGE на основі етапу Multistage Capistrano. Ми налаштовуємо структуру файлів для конфігурацій, специфічних для розгортання, у repo_root/config/deploy/files/RAILS_STAGE, яка структурована ідентично файловій системі вихідного репозиторію. Під час розгортання cap, перед поточними символічними посиланнями або процесами збірки, завдання rake рекурсивно копіює repo_root/config/deploy/files/RAILS_STAGE у repo_root.</p>

<p>Ми виявили, що ця стратегія дуже ефективно допомагає утримувати складні конфігурації розгортання в акуратному порядку, який легко зрозуміти та не додає багато додаткової складності до вже складної архітектури.</p>

<p>Наведений нижче гіст демонструє цю ідею. Спочатку це завдання використовувало різні бібліотеки Rails. Однак я зміг виділити залежності Rails, зберігши при цьому функціональність завдання, щоб ви могли використовувати його з будь-яким стеком додатків.</p>

<p><br /></p>

<script src="https://gist.github.com/3286971.js?file=jobs.rb"></script>


</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; goto</a>
<blockquote>
<ul>
  <li>
    <a href="/about">про нас<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/a-simple-strategy-for-managing-complex-deployments-of-web-applications">я-ненавижу-це<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/a-simple-strategy-for-managing-complex-deployments-of-web-applications">я-люблю-це<a>
  </li>
  <li>
    <a href="/contact">контакти<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; вийти</a>
    </footer>
  </body>
</html>