<html color-mode="user" lang="es">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/es/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/es/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/es/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/es/favicon-16x16.png">
    <link rel="manifest" href="/es/site.webmanifest">

  <!-- meta -->
    <title>Está en los Logs, Estúpido...</title>

<meta property="og:title" content="Está en los Logs, Estúpido..."/>
<meta property="og:description" content="sigue adelante." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/es/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"it-s-in-the-logs-stupid"}">
    <meta property="site:path_info" content=""/es/it-s-in-the-logs-stupid"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>

    <base href='/es' />
  </head>

  <body>
    <header>
      <a href="/es/home">@drawohara</a>
<hr>
    </header>

    <main>
      <div class="ro markdown">
  <p>(Esta publicación apareció originalmente en el blog <a href="http://www.stuff-things.net/es">Cosas... Y Cosas... de Spike</a>)</p>

<p>Ayer, estuve involucrado en un simulacro de incendio por el lanzamiento de un nuevo sitio en Rails con un plazo muy ajustado. El sitio funcionaba bien en desarrollo/preproducción, pero el índice tardaba más de 10 segundos en renderizarse en producción.</p>

<p>Como funcionaba fuera de producción, saltamos a la conclusión de que estaba relacionado con la infraestructura de alojamiento. Revisamos Apache, Passenger, la carga del servidor, la configuración de la red, y así sucesivamente. Nada.</p>

<p>Finalmente, se me ocurrió revisar <code>log/production.log</code>, y ahí estaba:</p>

<pre><code>Procesando por BlahController#index como */*
  Renderizado blah/_carousel.html.erb (5795.2ms)
  Renderizado blah/index.html.erb dentro de layouts/site (5801.5ms)
</code></pre>

<p>Rápidamente lo rastreamos hasta un procesamiento de imágenes que no se estaba almacenando en caché. No se mostraba fuera de producción porque los activos de imagen eran diferentes. No te aburriré con los detalles.</p>

<p>Sin embargo, te <del>aburriré</del> iluminaré con mi punto. Cuando depuras un problema, comienza con las cosas simples. Los registros de Rails no son muy detallados, pero proporcionan más que suficiente información para profundizar rápidamente en los problemas de tu código.</p>

</div>
    </main>

    <footer>
      <hr>
<a href="/es/goto" name="goto">&mdash;&gt; ir a</a>
<blockquote>
<ul>
  <li>
    <a href="/es/about">acerca de<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/es/it-s-in-the-logs-stupid">i-hate-this<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/es/it-s-in-the-logs-stupid">i-love-this<a>
  </li>
  <li>
    <a href="/es/contact">contacto<a>
  </li>
</ul>
</blockquote>
<a href="/es">&lt;&mdash; salir</a>
    </footer>
  </body>
</html>