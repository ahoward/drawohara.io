<html color-mode="user" lang="es">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/es/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/es/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/es/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/es/favicon-16x16.png">
    <link rel="manifest" href="/es/site.webmanifest">

    <base href='/es' />

  <!-- meta -->
    <title>Usando redis con información sensible</title>

<meta property="og:title" content="Usando redis con información sensible"/>
<meta property="og:description" content="sigue adelante." />
<meta property="og:image" content="https://drawohara.io/es/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content="/es/dojo4/archive/:id">
    <meta property="site:params" content="{'ext':null,'id':'using-redis-with-sensitive-information'}">
    <meta property="site:path_info" content="/es/using-redis-with-sensitive-information">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/es/home">@drawohara</a>
<hr>
    </header>

    <main>
      <div class="ro markdown">
  <p><strong>Actualización:</strong> El creador de Redis <a href="https://github.com/antirez">Salvatore Sanfilippo</a> respondió a mi solicitud de extracción documentando este método de deshabilitar <code>bgsave</code> con <a href="https://github.com/antirez/redis/pull/1683#issuecomment-41163718">este comentario</a>. Dado que está de acuerdo en que debería haber un proceso de diseño comunitario para apoyar la desactivación de la persistencia en redis, agregué un <a href="https://github.com/antirez/redis/issues/1704">nuevo problema</a> para permitir que ocurra esa discusión. Espero ver el proceso de diseño y ser parte de él.</p>

<p><strong>Actualización:</strong> El trabajo inicial para apoyar oficialmente una configuración de 'desactivar persistencia' ha comenzado por <a href="https://twitter.com/mattsta">Matt Stancliff</a>. Mira el trabajo de Matt <a href="https://github.com/antirez/redis/issues/1704#issuecomment-42575432">aquí</a>. Es genial ver esto. ¡Gracias Matt!</p>

<p>Pasé horas investigando y planeando cómo evitar que <a href="redis.io/es">redis</a> escriba algún valor de base de datos en el disco, ya que la instancia de redis manejará información sensible. (En nuestro caso, estamos almacenando cvv durante 60 minutos y, debido al cumplimiento de PCI con respecto al uso de tarjetas de crédito, absolutamente no podemos escribir estos valores en el disco, nunca).</p>

<p>Leí la documentación, el archivo de configuración, busqué en Google, probé y hasta intenté decirle que escribiera en <code>/dev/null</code>.</p>

<p>Finalmente, la respuesta provino de ‘TheRealBill_here’ en el canal irc <code>#redis</code>:</p>

<pre><code>dbfilename ""
</code></pre>

<p>en el archivo de configuración.</p>

<p>Aquí tienes un <a href="http://irclogger.com/.redis/2014-04-14#1397514047">enlace a toda nuestra conversación</a> si estás interesado.</p>

<p>También envié una <a href="https://github.com/antirez/redis/pull/1683">solicitud de extracción</a> para agregar una nota en el archivo de configuración de redis.</p>

<p>Esta respuesta llegó a mí después de haber tomado ya un par de otras decisiones sobre la configuración de redis para almacenar información de tarjetas de crédito:</p>

<ul>
  <li><code>loglevel</code> tiene un valor predeterminado de info, lo que no imprimirá cada lectura/escritura, así que estamos bien allí. Aunque para nuestro caso de uso probablemente nos sentiríamos cómodos simplemente desactivando el registro por completo.</li>
  <li>La directiva <code>save</code> se establece en <code>save ""</code> para que el snapshotting esté definitivamente desactivado.</li>
  <li>La <code>replication</code> no está en juego. Al usar la replicación, el maestro inicializa a un esclavo escribiendo su propio contenido de base de datos en el disco, enviando al esclavo ese archivo y el esclavo cargando el volcado de la base de datos en su base de datos. Obviamente, no podemos hacer eso. (También ten en cuenta que si agregáramos un esclavo en algún momento, no podría sincronizarse con nuestra configuración actual de <code>dbfilename ""</code>. Consulta el registro del error cuando llames a <code>bgsave</code> desde <code>redis-cli</code> tú mismo.)</li>
</ul>

</div>
    </main>

    <footer>
      <hr>
<a href="/es/goto" name="goto">&mdash;&gt; ir</a>
<blockquote>
<ul>
  <li>
    <a href="/es/about">acerca de<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/using-redis-with-sensitive-information">no-me-gusta-esto<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/using-redis-with-sensitive-information">me-encanta-esto<a>
  </li>
  <li>
    <a href="/es/contact">contacto<a>
  </li>
</ul>
</blockquote>
<a href="/es">&lt;&mdash; salir</a>
    </footer>
  </body>
</html>