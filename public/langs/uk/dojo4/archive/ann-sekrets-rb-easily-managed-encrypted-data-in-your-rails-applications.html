<html color-mode="user" lang="uk">
  <head>
  <base href='/langs/uk' />
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- langs -->
  <!--
    https://developers.google.com/search/docs/specialty/international/localized-versions#html
  -->
   <link rel="alternate" hreflang="en" href="/" />
   <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
   <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
   <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
   <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
   <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>—Ç—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î.</title>

<meta property="og:title" content="—Ç—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î."/>
<meta property="og:description" content="–ø—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Ä—É—Ö." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"}">
    <meta property="site:path_info" content=""/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a> &mdash;
<a href="mailto:i-love-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">—è ‚ù§Ô∏è —Ü–µ!</a>
<small>
  <small>
    <small>
      <span title='–≤–∏–ø–∏–π –º–µ–Ω–µ'>&lt;&lt; –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –º–µ–Ω–µ üêõ ü´ñ üßö</a>
    </small>
  </small>
</small>
<hr>
<strong>/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications</strong>
    </header>

    <main>
      <em>–æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ: 2013-02-21</em>
<br>
<br>
<div class="ro markdown">
  <p>–ø–æ—Å–∏–ª–∞–Ω–Ω—è: https://github.com/ahoward/sekrets</p>

<pre>

–ù–ê–ó–í–ê
  sekrets.rb

–°–ò–ù–û–ü–°–ò–°
  sekrets ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏
  —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ —É –≤–∞—à–∏—Ö –¥–æ–¥–∞—Ç–∫–∞—Ö rails —Ç–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—è—Ö git.

–Ü–ù–°–¢–ê–õ–Ø–¶–Ü–Ø
  gem install sekrets
  gem 'sekrets'

–û–ü–ò–°
  TL;DR
    # —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª

      ruby -r yaml -e'puts({:api_key =&gt; 1234}.to_yaml)' | sekrets write config/settings.yml.enc --key 42

    # –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –π–æ–≥–æ

      sekrets read config/settings.yml.enc --key 42

    # –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –π–æ–≥–æ

      sekrets edit config/settings.yml.enc --key 42

    # –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—ñ–Ω –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π

      cat config/settings.yml.enc

    # –∑–∞–∫–æ–º—ñ—Ç–∏—Ç–∏ –π–æ–≥–æ

      git add config/settings.yml.enc

    # –ø–æ–º—ñ—Å—Ç–∏—Ç–∏ –∫–ª—é—á –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –≤ —Ñ–∞–π–ª

      echo 42 &gt; .sekrets.key

    # –ø—Ä–æ—ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏ —Ü–µ–π —Ñ–∞–π–ª –≤ git

      echo .sekrets.key &gt;&gt; .gitgnore

    # —Ç–µ–ø–µ—Ä –≤–∞–º –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç --key –¥–ª—è –∫–æ–º–∞–Ω–¥

      sekrets read config/settings.yml.enc

      sekrets edit config/settings.yml.enc

    # –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ü–µ–π —Ñ–∞–π–ª —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

      echo " require 'sekrets/capistrano' " &gt;&gt; Capfile

    # –∑–∞–∫–æ–º—ñ—Ç–∏—Ç–∏ —Ç–∞ —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏

      git add config/settings.yml.enc
      git commit -am'–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –π–æ'
      git pull &amp;&amp; git push &amp;&amp; cap staging deploy

    # –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Ü–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —É –∫–æ–¥—ñ –≤–∞—à–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É

      settings = Sekrets.settings_for('./config/settings.yml.enc')

  –û–ü–ò–°
    sekrets –Ω–∞–¥–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –¥–æ—Å—Ç—É–ø—É
    –¥–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —É –≤–∞—à–æ–º—É –∫–æ–¥–æ–≤–æ–º—É –±–∞–∑—ñ—Å—ñ.

    –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –≤—ñ–¥–æ–º–æ—Å—Ç—ñ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–∏–º–∏ —Ä–∞–∑–æ–º
    –∑ —Ä–µ—à—Ç–æ—é –∫–æ–¥–æ–≤–æ–≥–æ –±–∞–∑—ñ—Å—É. –≤—ñ–Ω –≤–∏–∫–ª—é—á–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥–æ–º–æ—Å—Ç–µ–π,
    –∫–ª—é—á—ñ–≤ –∞–±–æ —ñ–Ω—à–æ—ó –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

    sekrets –Ω–∞–¥–∞—î —è–∫ –∑–∞–≥–∞–ª—å–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–≤—ñ–ª—å–Ω–∏–º–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏
    —Ñ–∞–π–ª–∞–º–∏, —Ç–∞–∫ —ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.


  –ü–û–®–£–ö –ö–õ–Æ–ß–ê
    –¥–ª—è *–≤—Å—ñ—Ö* –æ–ø–µ—Ä–∞—Ü—ñ–π, –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∞–±–æ —ñ–Ω—à–∏–º —á–∏–Ω–æ–º, sekrets –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î
    –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—à—É–∫—É –∫–ª—é—á–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è:

    - –±—É–¥—å-—è–∫–∏–π –∫–ª—é—á, –ø–µ—Ä–µ–¥–∞–Ω–∏–π –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–∏–∫–ª–∏–∫—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, –±—É–¥–µ –ø–µ—Ä–µ–≤–∞–∂–Ω–∏–º

    - —ñ–Ω–∞–∫—à–µ –∫–æ–¥ —à—É–∫–∞—î —Ñ–∞–π–ª —Å—É–ø—É—Ç–Ω—å–æ–≥–æ –∫–ª—é—á–∞. –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ —Ñ–∞–π–ª 'config/sekrets.yml.enc',
      sekrets —à—É–∫–∞—Ç–∏–º–µ –∫–ª—é—á –∑–∞ —à–ª—è—Ö–æ–º

        config/.sekrets.yml.enc.key

      —è–∫—â–æ –±—É–¥—å-—è–∫–∏–π –∑ —Ü–∏—Ö —Ñ–∞–π–ª—ñ–≤ –≤–∏—è–≤–∏—Ç—å—Å—è –Ω–µ–ø–æ—Ä–æ–∂–Ω—ñ–º, –π–æ–≥–æ –≤–º—ñ—Å—Ç –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ —è–∫ –∫–ª—é—á –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è
      –¥–ª—è —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É. –≤–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –∫–æ–º—ñ—Ç–∏—Ç–∏ —Ü—ñ —Ñ–∞–π–ª–∏ –∫–ª—é—á—ñ–≤ —ñ —Ç–∞–∫–æ–∂ –¥–æ–¥–∞–≤–∞—Ç–∏ —ó—Ö –¥–æ –≤–∞—à–æ–≥–æ .gitignore - –∞–±–æ –ø–æ–¥—ñ–±–Ω–æ–≥–æ.

    - –¥–∞–ª—ñ —à—É–∫–∞—î—Ç—å—Å—è —Ñ–∞–π–ª –∫–ª—é—á–∞ –ø—Ä–æ–µ–∫—Ç—É. —à–ª—è—Ö —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É —î

        ./.sekrets.key

      –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —ñ, —É –¥–æ–¥–∞—Ç–∫—É rails

        RAILS_ROOT/.sekrets.key

    - —è–∫—â–æ —Ü–µ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, sekrets —à—É–∫–∞—î –∫–ª—é—á —É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ø—ñ–¥ –∑–º—ñ–Ω–Ω–æ—é —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

        SEKRETS_KEY

      –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ

    - –¥–∞–ª—ñ —à—É–∫–∞—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞, —à–ª—è—Ö —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É —î

        ~/.sekrets.key

    - –Ω–∞—Ä–µ—à—Ç—ñ, —è–∫—â–æ –∫–ª—é—á —â–µ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –∞–±–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞–ø–∏—Ç—É—é—Ç—å –≤–≤–µ—Å—Ç–∏ –∫–ª—é—á. –∑–∞–ø–∏—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
      –ª–∏—à–µ —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ tty. –æ—Ç–∂–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–µ –±—É–¥–µ –∑–∞–≤–∏—Å–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É –Ω–∞
      –∑–∞–¥–Ω—å–æ–º—É –ø–ª–∞–Ω—ñ, —è–∫-–æ—Ç –¥–æ–¥–∞—Ç–æ–∫ rails, —è–∫–∏–π –∫–µ—Ä—É—î—Ç—å—Å—è passenger.

    –¥–∏–≤. Sekrets.key_for –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –¥–µ—Ç–∞–ª–µ–π

  –†–û–ó–ü–û–î–Ü–õ –ö–õ–Æ–ß–ê
    sekrets *–Ω–µ* –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏—Ä—ñ—à–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∫–ª—é—á–∞ –¥–ª—è –≤–∞—Å,
    –∑ –æ–¥–Ω–∏–º –≤–∏–Ω—è—Ç–∫–æ–º:

    —è–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ capistrano –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è '–≤–∞–Ω—ñ–ª—å–Ω–æ–≥–æ' ssh-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –ø—Ä–æ—Å—Ç–∏–π
    —Ä–µ—Ü–µ–ø—Ç –Ω–∞–¥–∞—î—Ç—å—Å—è, —è–∫–∏–π –≤–∏—è–≤–ª—è—î –º—ñ—Å—Ü–µ–≤–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞ —Ç–∞ scp –π–æ–≥–æ –Ω–∞ –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π(—ñ) —Å–µ—Ä–≤–µ—Ä(–∏) –ø—Ä–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—ñ.

    sekrets –ø—Ä–∏–ø—É—Å–∫–∞—î, —â–æ –º—ñ—Å—Ü–µ–≤–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞, —è–∫—â–æ –≤—ñ–Ω —ñ—Å–Ω—É—î, —î –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º.

    –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ —Ä–µ—Ü–µ–ø—Ç capistrano –≤–∏–∫–æ–Ω—É—î:

      scp ./sekrets.key deploy@remote.host.com:/rails_root/current/sekrets.key

    –∑–≤–∏—á–∞–π–Ω–æ, –º—ñ—Å—Ü–µ–≤–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞ *–Ω—ñ–∫–æ–ª–∏* –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–º —ñ —Ç–∞–∫–æ–∂ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ .gitignore

    —Ä–æ–∑–ø–æ–¥—ñ–ª —Ü—å–æ–≥–æ –∫–ª—é—á–∞ —Å–µ—Ä–µ–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –º–µ–∂—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏. –π–º–æ–≤—ñ—Ä–Ω–æ, –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –ª–∏—Å—Ç —î
    –Ω–∞–π–∫—Ä–∞—â–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É ;-/

</pre>

</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; goto</a>
<blockquote>
<ul>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">üò©, —è üñ§ ^—Ü–µ!<a>
  </li>
  <li>
    <a href="/now">/now<a>
  </li>
  <li>
    <a href="/about">/about<a>
  </li>
  <li>
    <a href="/contact">/contact<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; eject</a>
    </footer>
  </body>
</html>