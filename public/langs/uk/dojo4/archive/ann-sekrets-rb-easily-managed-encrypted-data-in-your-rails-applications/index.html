<html color-mode="user" lang="uk">
  <head>
  <base href='/langs/uk' />
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- langs -->
  <!--
    https://developers.google.com/search/docs/specialty/international/localized-versions#html
  -->
   <link rel="alternate" hreflang="en" href="/" />
   <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
   <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
   <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
   <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
   <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>—Ç—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î.</title>

<meta property="og:title" content="—Ç—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î."/>
<meta property="og:description" content="–π–¥–∏ –¥–∞–ª—ñ." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"}">
    <meta property="site:path_info" content=""/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a> &mdash;
<a href="mailto:i-love-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">—è ‚ù§Ô∏è —Ü–µ!</a>
<hr>
<strong>/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications</strong>
    </header>

    <main>
      <em>–æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ: 2013-02-21</em>
<br>
<br>
<div class="ro markdown">
  <p>–ø–æ—Å–∏–ª–∞–Ω–Ω—è: <a href="https://github.com/ahoward/sekrets" target="_blank">https://github.com/ahoward/sekrets</a></p>

<pre>

–ù–ê–ó–í–ê
  sekrets.rb

–°–ò–ù–û–ü–°–ò–°
  sekrets —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏
  —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏ –≤ –≤–∞—à–∏—Ö rails –¥–æ–¥–∞—Ç–∫–∞—Ö —Ç–∞ git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—è—Ö.

–Ü–ù–°–¢–ê–õ–Ø–¶–Ü–Ø
  gem install sekrets
  gem 'sekrets'

–û–ü–ò–°
  TL;DR
    # —Å—Ç–≤–æ—Ä—ñ—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª

      ruby -r yaml -e'puts({:api_key =&gt; 1234}.to_yaml)' | sekrets write config/settings.yml.enc --key 42

    # –ø–æ–∫–∞–∂—ñ—Ç—å –π–æ–≥–æ

      sekrets read config/settings.yml.enc --key 42

    # –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ –π–æ–≥–æ

      sekrets edit config/settings.yml.enc --key 42

    # –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤—ñ–Ω –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π

      cat config/settings.yml.enc

    # –∑—Ä–æ–±—ñ—Ç—å commit

      git add config/settings.yml.enc

    # –ø–æ–º—ñ—Å—Ç—ñ—Ç—å –∫–ª—é—á –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –≤ —Ñ–∞–π–ª

      echo 42 &gt; .sekrets.key

    # —ñ–≥–Ω–æ—Ä—É–π—Ç–µ —Ü–µ–π —Ñ–∞–π–ª –≤ git

      echo .sekrets.key &gt;&gt; .gitgnore

    # —Ç–µ–ø–µ—Ä –≤–∞–º –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç --key –¥–ª—è –∫–æ–º–∞–Ω–¥

      sekrets read config/settings.yml.enc

      sekrets edit config/settings.yml.enc

    # –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Ü–µ–π —Ñ–∞–π–ª —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞ –≤–∞—à–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

      echo " require 'sekrets/capistrano' " &gt;&gt; Capfile

    # –∑—Ä–æ–±—ñ—Ç—å commit —ñ —Ä–æ–∑–≥–æ—Ä—Ç–∞–π—Ç–µ

      git add config/settings.yml.enc
      git commit -am'–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –π–æ'
      git pull &amp;&amp; git push &amp;&amp; cap staging deploy

    # –æ—Ç—Ä–∏–º–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –¥–æ —Ü–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ –¥–æ–¥–∞—Ç–∫—É

      settings = Sekrets.settings_for('./config/settings.yml.enc')


  –û–ü–ò–°
    sekrets –Ω–∞–¥–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –¥–æ—Å—Ç—É–ø—É
    –¥–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —É –≤–∞—à–æ–º—É –∫–æ–¥–æ–≤—ñ–π –±–∞–∑—ñ.

    –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–µ—é —Ä–∞–∑–æ–º –∑ —ñ–Ω—à–∏–º –∫–æ–¥–æ–º. –≤—ñ–Ω —É—Å—É–≤–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è
    –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó, –∫–ª—é—á—ñ–≤ –∞–±–æ —ñ–Ω—à–æ—ó —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.

    sekrets –Ω–∞–¥–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ–≤—ñ–ª—å–Ω–∏–º–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏
    —Ñ–∞–π–ª–∞–º–∏ —Ç–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.


  –ü–û–®–£–ö –ö–õ–Æ–ß–ê
    –¥–ª—è *—É—Å—ñ—Ö* –æ–ø–µ—Ä–∞—Ü—ñ–π, –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∞–±–æ —ñ–Ω—à–∏–º —á–∏–Ω–æ–º, sekrets –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î
    –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –ø–æ—à—É–∫—É –∫–ª—é—á–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è:

    - –±—É–¥—å-—è–∫–∏–π –∫–ª—é—á, –ø–µ—Ä–µ–¥–∞–Ω–∏–π –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä —É –≤–∏–∫–ª–∏–∫—É –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏, –±—É–¥–µ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–∏–º

    - —ñ–Ω–∞–∫—à–µ –∫–æ–¥ —à—É–∫–∞—î —Å—É–ø—Ä–æ–≤—ñ–¥–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞. –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —Ñ–∞–π–ª—É 'config/sekrets.yml.enc' sekrets –±—É–¥–µ —à—É–∫–∞—Ç–∏ –∫–ª—é—á —É

        config/.sekrets.yml.enc.key

      —è–∫—â–æ –æ–¥–∏–Ω –∑ –Ω–∏—Ö –∑–Ω–∞–π–¥–µ–Ω–æ —Ç–∞ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π, –≤–º—ñ—Å—Ç —Ñ–∞–π–ª—É –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ —è–∫ –∫–ª—é—á –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–ª—è —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É. –≤–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ —Ä–æ–±–∏—Ç–∏ commit
      —Ü–∏—Ö —Ñ–∞–π–ª—ñ–≤ –∫–ª—é—á—ñ–≤ —Ç–∞ —Ç–∞–∫–æ–∂ –¥–æ–¥–∞–≤–∞—Ç–∏ —ó—Ö –¥–æ –≤–∞—à–æ–≥–æ .gitignore - –∞–±–æ –ø–æ–¥—ñ–±–Ω–æ–≥–æ.

    - –¥–∞–ª—ñ —à—É–∫–∞—î—Ç—å—Å—è —Ñ–∞–π–ª –∫–ª—é—á–∞ –ø—Ä–æ–µ–∫—Ç—É. —à–ª—è—Ö –¥–æ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É

        ./.sekrets.key

      –∑–∞–∑–≤–∏—á–∞–π, –∞ –≤ rails –¥–æ–¥–∞—Ç–∫—É

        RAILS_ROOT/.sekrets.key

    - —è–∫—â–æ —Ü–µ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, sekrets —à—É–∫–∞—î –∫–ª—é—á —É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –ø—ñ–¥ –∑–º—ñ–Ω–Ω–æ—é —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

        SEKRETS_KEY

      –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞–ª–∞—à—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ

    - –¥–∞–ª—ñ —à—É–∫–∞—î—Ç—å—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞, —à–ª—è—Ö –¥–æ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É

        ~/.sekrets.key

    - –Ω–∞—Ä–µ—à—Ç—ñ, —è–∫—â–æ –∫–ª—é—á —â–µ –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –∞–±–æ –∑–Ω–∞–π–¥–µ–Ω–æ, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞–ø–∏—Ç—É—é—Ç—å –≤–≤–µ—Å—Ç–∏ –∫–ª—é—á. –∑–∞–ø–∏—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ª–∏—à–µ —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ tty.
      –æ—Ç–∂–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∂–æ–¥–µ–Ω –∑–∞–ø–∏—Ç –Ω–µ –∑–∞—Ç—Ä–∏–º—É—î –¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ, —Ç–∞–∫–∏–º —è–∫ rails –¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–º –∫–µ—Ä—É—î passenger.

    –¥–∏–≤. Sekrets.key_for –¥–ª—è –±—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó

  –†–û–ó–ü–û–î–Ü–õ –ö–õ–Æ–ß–ê
    sekrets *–Ω–µ* –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏—Ä—ñ—à–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∫–ª—é—á—ñ–≤ –¥–ª—è –≤–∞—Å,
    –∑ –æ–¥–Ω–∏–º –≤–∏–Ω—è—Ç–∫–æ–º:

    —è–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ capistrano –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è 'vanilla' ssh-—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è, –Ω–∞–¥–∞—î—Ç—å—Å—è –ø—Ä–æ—Å—Ç–∏–π —Ä–µ—Ü–µ–ø—Ç, —è–∫–∏–π –≤–∏—è–≤–ª—è—î –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞ —Ç–∞ scp –π–æ–≥–æ –Ω–∞
    –≤—ñ–¥–¥–∞–ª–µ–Ω–∏–π —Å–µ—Ä–≤–µ—Ä(–∏) –ø—Ä–∏ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—ñ.

    sekrets –ø—Ä–∏–ø—É—Å–∫–∞—î, —â–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞, —è–∫—â–æ –≤—ñ–Ω —ñ—Å–Ω—É—î, –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π.

    –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏ capistrano —Ä–µ—Ü–µ–ø—Ç –≤–∏–∫–æ–Ω—É—î:

      scp ./sekrets.key deploy@remote.host.com:/rails_root/current/sekrets.key

    –∑—Ä–æ–∑—É–º—ñ–ª–æ, —â–æ –ª–æ–∫–∞–ª—å–Ω–∏–π —Ñ–∞–π–ª –∫–ª—é—á–∞ *–Ω—ñ–∫–æ–ª–∏* –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –∑–∞–∫–æ–º—ñ—á–µ–Ω–∏–π —Ç–∞ —Ç–∞–∫–æ–∂ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –≤ .gitignore

    —Ä–æ–∑–ø–æ–¥—ñ–ª —Ü—å–æ–≥–æ –∫–ª—é—á–∞ —Å–µ—Ä–µ–¥ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ –≤–∏—Ö–æ–¥–∏—Ç—å –∑–∞ –º–µ–∂—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏. –π–º–æ–≤—ñ—Ä–Ω–æ, –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –ª–∏—Å—Ç —î –Ω–∞–π–∫—Ä–∞—â–∏–º –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º –¥–ª—è —Ä–æ–∑–ø–æ–¥—ñ–ª—É
    ;-/

</pre>

</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; goto</a>
<blockquote>
<ul>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">üò©, —è üñ§ ^—Ü–µ!<a>
  </li>
  <li>
    <a href="/now">/now<a>
  </li>
  <li>
    <a href="/about">/about<a>
  </li>
  <li>
    <a href="/contact">/contact<a>
  </li>
  <li>
    <a href='/langs' id='lang'>üåé</a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; eject</a>
    </footer>
  </body>
</html>