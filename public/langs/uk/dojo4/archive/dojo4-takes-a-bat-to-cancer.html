<html color-mode="user" lang="uk">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>dojo4 береться за рак.</title>

<meta property="og:title" content="dojo4 береться за рак."/>
<meta property="og:description" content="переходьте далі." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"dojo4-takes-a-bat-to-cancer"}">
    <meta property="site:path_info" content=""/dojo4-takes-a-bat-to-cancer"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>

    <base href='/uk' />
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
<hr>
    </header>

    <main>
      <div class="ro markdown">
  <p><a href="http://dojo4.com/blog/dojo4-stands-up-to-cancer">Останній проект dojo4 з Stand Up to Cancer</a> (SU2C) <a href="http://dojo4.com/blog/su2c-live-telethon-rawked">допоміг їм зібрати понад 100 мільйонів доларів за одну телемарафон</a>. Через місяць ми знову працюємо з SU2C; цього разу вони співпрацюють з Major League Baseball, щоб зібрати кошти на Світову серію!</p>

<p>SU2C звернулися до нас з проблемою - MLB представляє SU2C та боротьбу з раком під час <a href="http://mlb.mlb.com/mlb/gameday/index.jsp?gid=2014_10_24_kcamlb_sfnmlb_1">Гри 3 Світової серії</a> (завтра - п'ятниця, 24 жовтня)! Вони хотіли покращити додаток, який ми створили їм кілька місяців тому, що дозволяє людям створювати присвяту людині, яка постраждала від раку: <a href="http://istandupfor.su2c.org">#istandupfor</a>.</p>

<p>Спочатку ми створили додаток як адаптивний веб-сайт, де люди могли завантажувати зображення, вводити присвяту, ділитися своєю присвятою в соціальних мережах та бути представленими в галереї SU2C. З новою видимістю Major League Baseball SU2C хотіли підняти додаток на новий рівень. Тож ми повернулися до креслярської дошки.</p>

<p>Ось вимоги:</p>

<ul>
  <li><strong>обробляти тонни трафіку!</strong> Світова серія MLB – це міжнародна подія з мільйонами глядачів. Коли вони згадають рух #istandupfor, ми побачимо значний спалах трафіку.</li>
  <li><strong>мати нативний додаток!</strong> Була старша версія #istandupfor в магазині додатків iOS, але її потрібно було оновити, і не було додатку для Android. Нам потрібно було дозволити людям вшановувати рідних і ділитися своєю присвятою на своїх мобільних пристроях.</li>
  <li><strong>обмежити обслуговування до мінімуму</strong> Метою SU2C є збір коштів на дослідження раку, а не утримання 3 різних додатків для одного руху #istandupfor.</li>
</ul>

<p>Ось що ми зробили:</p>

<h2 id="залиште-скейлінг-експертам">залиште скейлінг експертам</h2>

<p>Спроба обробляти великий трафік безпосередньо на наших серверах – це прямий шлях до стресованих розробників, які поспішно виправляють помилки та залишають користувачів чекати, коли вони намагаються внести свій вклад у чудову спільноту SU2C. Хто добре вміє обробляти великі обсяги завантажень? Amazon S3.</p>

<p>Замість того, щоб вимагати, щоб один з наших веб-серверів EC2 працював, додатки безпосередньо завантажують зображення та всю необхідну інформацію про присвяту (присвята, електронна пошта тощо у невеликому файлі json) до AWS S3. Веб-версія #istandupfor вже завантажувала зображення до S3, тому рефакторинг був мінімальним. У Amazon також є нативна підтримка мобільних додатків для завантаження до S3 з SDK для iOS та Android.</p>

<p>Потім наші сервери EC2 періодично перевіряють S3 на наявність нових завантажень присвят і обробляють їх у нашій центральній базі даних для перегляду окремих присвят онлайн (уявіть собі соціальні мережі) та для SU2C, щоб схвалити та додати до галереї. Наші користувачі завжди зможуть створювати присвяти незалежно від платформи, якою вони користуються (веб, iOS або android), завдяки S3 та CloudFront.</p>

<p>Ми провели конференц-званок з AWS (вітання Девіду та Натаніелю!), щоб переконатися, що наш план був міцним, і вони погодилися, що це найкращий підхід. Інженери з AWS точно знають, як обробляти тисячі запитів за секунду без пошкоджень, тому ми дозволили їм.</p>

<h2 id="гібридні-нативні-додатки">гібридні нативні додатки</h2>

<p>SU2C хотіли мати нативний додаток, але також хотіли уникнути багатьох проблем з обслуговуванням у майбутньому. Магазини додатків – це чудові механізми розповсюдження, але містять багато перешкод. Проходження через ці перешкоди один раз набагато легше, ніж потрібно проходити через них кожного разу, коли необхідно внести зміни в додатки.</p>

<p>Тож ми використали мої початкові точки для iOS та Android, <a href="http://imbed.github.io/">Imbed</a>, щоб створити нативні додатки для iOS та Android, які використовують веб-перегляд для завантаження додатку. Нативні оболонки надають обробники JavaScript, які запускають нативний код, тож ми можемо створювати будь-який нативний код, який нам потрібен (у цьому випадку більшість нативного коду полягала у виборі зображення з пристрою та його завантаженні до AWS S3 через SDK AWS), а потім викликати цей нативний код через веб-сторінку, завантажену всередині додатку. Ця веб-сторінка залишається веб-сторінкою, тож ми можемо вносити до неї зміни, публікувати їх і додаток буде оновлено без необхідності знову проходити через перешкоди магазинів додатків.</p>

<p>Перегляньте <a href="https://play.google.com/store/apps/details?id=com.eifoundation.su2c">Додаток для Android у Google Play</a> та <a href="https://itunes.apple.com/us/app/stand-up-to-cancer/id669692145?mt=8">додаток для iOS в App Store</a>!</p>

<p>Ми любимо працювати з SU2C. Вони не тільки збирають мільярди на боротьбу з раком, вони також дуже милі та чудові у роботі. Ми не можемо чекати результатів завтрашньої гри - завантажте додаток і зробіть пожертву!</p>

</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; goto</a>
<blockquote>
<ul>
  <li>
    <a href="/about">про нас<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/dojo4-takes-a-bat-to-cancer">i-hate-this<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/dojo4-takes-a-bat-to-cancer">i-love-this<a>
  </li>
  <li>
    <a href="/contact">контакти<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; eject</a>
    </footer>
  </body>
</html>