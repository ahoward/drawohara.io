<html color-mode="user" lang="sv">
  <head>
    <base href='/sv' />
    <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DQVD9T27V4');
    </script>

    <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

    <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- meta -->
    <title>&quot;Skuggvärlden av CSS-tabeller&quot;</title>

    <meta property="og:title" content="&quot;Skuggvärlden av CSS-tabeller&quot;"/>
    <meta property="og:description" content="fortsätt." />
    <meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

    <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content="/dojo4/arkiv/:id">
    <meta property="site:params" content='{"ext":null,"id":"the-shadow-world-of-css-tables"}'>
    <meta property="site:path_info" content="/the-shadow-world-of-css-tables">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
      <hr>
    </header>

    <main>
      <p>
        Webbdesignens framtid ser <a href="http://dev.w3.org/csswg/css-flexbox/" target="_blank">lovande</a> ut, särskilt för den välförtrogna webbutvecklaren vars djupt nätverkade tabeller fortfarande <a href="http://www.isse.ucar.edu/water_climate/index.html" target="_blank">hemsöker internet</a>. Men tills flexbox är redo för primetime måste CSS-flytande layoutsystem, som är kärnan i CSS-ramverk som Twitter Bootstrap och Zurb Foundation, räcka till.
      </p>

      <p>
        Eller kommer de att göra det?
      </p>

      <img src='/ro/dojo4/the-shadow-world-of-css-tables/assets/display-table.gif' />

      <p>
        Några av dagens briljanta unga webbkatter kanske inte vet att det skapades ett vakuum när TABLE-baserade layouts avsattes. <a href="http://www.csszengarden.com/" target="_blank">CSS Zen Garden</a>, som visade upp potentialen i CSS-layouts och satt en dolk i hjärtat på TABLE-baserade layouts, krönte inte nödvändigtvis en efterträdare.
      </p>

      <p>
        Det fanns Holy Grail-tekniken, Faux Absolute Positioning och många andra bitar av <a href="http://www.positioniseverything.net/" target="_blank">PIE</a>. Det var en tid av experimenterande, en anda som något har falnat i ljuset av alla de vackra ramverk som finns där ute (fast några gör fortfarande <a href="https://github.com/necolas/suit-grid-layouts" target="_blank">experiment</a> från tid till annan).
      </p>

      <p>
        En teknik som misslyckades med att få fäste var CSS-tabellayouts. Ett antal saker konspirerade mot det:
      </p>

      <ol>
        <li>
          titeln på boken som förespråkade det, <a href="http://www.amazon.co.uk/dp/0980455227" target="_blank">Allt du vet om CSS är fel</a>, var, låt oss erkänna det, lite avskräckande
        </li>
        <li>
          teknikens namn väckte upp demoner från förgångna tider (TABLE-layouts!)
        </li>
        <li>
          den var före sin tid&mdash;innan två viktiga webbläsare från epoken stödde den (IE6/IE7)
        </li>
      </ol>

      <p>
        Men nyligen har ett antal personer återupptäckt tekniken eftersom den, i en eller två rader kod, möjliggör positionering som andra tekniker inte kan utan hack eller JS. Dessutom erbjuder den källkodsordningsfintesser som kommer till pass i responsiva sammanhang.
      </p>

      <h2 id="vertikal-centrering">
        Vertikal centrering
      </h2>

      <p>
        Frontendutvecklare är bekanta med utmaningen att justera element vertikalt i en rad när höjderna är okända. Faktiskt är det vanligtvis det första problemet man måste lösa i en webbplats <code>HEADER</code> (logo och navigation).
      </p>

      <p>
        <code>TABLE</code> gjorde vertikal centrering enkel med <code>VALIGN</code>-attributet. I flytande layouts är saker <a href="http://coding.smashingmagazine.com/2013/08/09/absolute-horizontal-vertical-centering-css/" target="_blank">mycket dunklare</a>, vilket kräver mycket trickeri (positionering, padding eller linjehöjder vanligtvis).
      </p>

      <p>
        CSS-tabeller gör vertikal centrering trivial med egenskapen <code>vertical-align: middle</code>. För att illustrera, ta följande markup:
      </p>

      <div class="highlight">
        <pre>
          <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row-table"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
              foo
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
              bar
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
              baz
            <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
              foo<span class="nt">&lt;br&gt;</span>bar<span class="nt">&lt;br&gt;</span>baz<span class="nt">&lt;br&gt;</span>qux
            <span class="nt">&lt;/div&gt;</span>
          <span class="nt">&lt;/div&gt;</span>
        </pre>
      </div>

      <p>
        Kombinera det med följande CSS:
      </p>

      <div class="highlight">
        <pre>
          <span class="nc">.row-table</span> {
            <span class="nl">display</span>: <span class="m">table</span>;
            <span class="nl">table-layout</span>: <span class="m">fixed</span>;
            <span class="nl">width</span>: <span class="m">100%</span>;
          }

          <span class="nc">.cell</span> {
            <span class="nl">display</span>: <span class="m">table-cell</span>;
            <span class="nl">width</span>: <span class="m">25%</span>;
            <span class="nl">vertical-align</span>: <span class="m">middle</span>;
          }
        </pre>
      </div>

      <p>
        Och du får följande vertikalt centrerade layout, trots den sista kolumnens högre innehåll:
      </p>

      <div class="row-table" style="margin-bottom: 25px;">

        <div class="cell">
          foo
        </div>

        <div class="cell">
          bar
        </div>

        <div class="cell">
          baz
        </div>

        <div class="cell">
          foo<br>bar<br>baz<br>qux
        </div>

      </div>

      <p>
        En ytterligare fördel med den här metoden är att de flesta backendutvecklare <em>begriper</em> <code>TABLE</code> (jag tittar på dig, <a href="/team/ara-t-howard" target="_blank">Ara</a>). Så, om du skriver stilar för andra att använda, kan du skapa ett OOCSS-rutnätssystem med intuitiva klasser och underklasser (".col", ".col-valign-middle", ".col-valign-top", etc) för att göra deras liv enklare.
      </p>

      <h2 id="lika-höga-kolumner">
        Lika höga kolumner
      </h2>

      <p>
        Med samma markup som ovan är det mycket enkelt att skapa lika höga kolumner; vi kommer bara att lägga till några bakgrundsfärger för att demonstrera:
      </p>

      <div class="row-table" style="margin-bottom: 25px;">

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#F05F3B">
          foo
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#E7E5D7">
          bar
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#777777">
          baz
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#55ACAA">
          foo<br>bar<br>baz<br>qux
        </div>

      </div>

      <p>
        Visst, det finns JS-bibliotek som gör flytande kolumner till detta, men det finns alla möjliga fönsterstorleksrelaterade konstigheter man måste göra i ett responsivt sammanhang för att förhindra att kolumnernas (JS-beräknade) höjder rinner ner till mindre vyportar.
      </p>

      <p>
        I stället, med en enkel mediafråga, kan jag få CSS-tabeller att transformeras till block (<code>display: block</code>) eller tabellgrupper (<code>display: table-header-group</code>) beroende på vad som är lämpligt för det givna sammanhanget.
      </p>

      <h2 id="kallordnings-tricks">
        Källordnings-tricks
      </h2>

      <p>
        CSS-tabelleigenskaper kan vara till hjälp när du vill omordna den hand du fick av HTML-källordningen. I flytande layouts kan du skjuta och dra element i större vyportar, men saker kommer att staplas på samma sätt som HTML-källordningen i mindre vyportar.
      </p>

      <p>
        CSS-tabeller låter dig omordna saker betydligt, särskilt i mindre vyportar. Ta vårt tidigare exempel till exempel:
      </p>

      <div class="row-table" style="margin-bottom: 25px;">

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#F05F3B;">
          0
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#E7E5D7;">
          1
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#777777;">
          2
        </div>

        <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#55ACAA;">
          3
        </div>

      </div>

      <p>
        Genom att ändra visningsinställningen till en av tabellgruppsegenskaperna (<code>display: table-caption</code>, <code>display: table-header-group</code>, <code>display: table-row-group</code>, eller <code>display: table-footer-group</code>), kan vi stapla element på ett helt annat sätt än de visas i radlayouten på större vyportar (än källordningen).
      </p>

      <p>
        Till exempel, om vi vill att kolumnerna ovan ska staplas i följande ordning (2,3,1,0), skulle vi tillämpa följande visningsegenskaper på cellerna (från vänster till höger): <code>display: table-footer-group</code> (0), <code>display: table-row-group</code> (1), <code>display: table-caption</code> (2), <code>display: table-header-group</code> (3). Och cellerna skulle då staplas så här:
      </p>

      <div class="row-table" style="margin-bottom: 25px;">

        <div class="cell" style="width:100%;display:table-footer-group;color:rgba(0,0,0, 0.6);background-color:#F05F3B;">
          0
        </div>

        <div class="cell" style="width:100%;display:table-row-group;color:rgba(0,0,0, 0.6);background-color:#E7E5D7;">
          1
        </div>

        <div class="cell" style="width:100%;display:table-caption;color:rgba(0,0,0, 0.6);background-color:#777777;">
          2
        </div>

        <div class="cell" style="width:100%;display:table-header-group;color:rgba(0,0,0, 0.6);background-color:#55ACAA;">
          3
        </div>

      </div>

      <p>
        Observera: Jag måste lägga till en <code>width: 100%</code>-regel till <code>display: table-caption</code>-elementet eftersom det annars inte skulle fylla upp det tillgängliga utrymmet.
      </p>

      <p>
        Varför i helvete skulle du vilja göra det?! Något, du kanske gör någon av dessa smarta <a href="http://bradfrostweb.com/blog/web/responsive-nav-patterns/#footer-anchor" target="_blank">fotnavigeringstricks</a> för små vyportar och vill att all navigation som finns i din <code>HEADER</code> ska snabbt flytta ner till botten av sidan.
      </p>

      <p>
        Eller kanske du bara har någon kolumn i en rad som ska visas först i små vyportar men visas i mitten av en rad i större vyportar.
      </p>

      <p>
        Möjligheterna är <strong>INTE</strong> oändliga eller lika robusta som flexbox kommer att vara, men det är något att lägga undan i verktygsbältet.
      </p>

      <h2 id="noteringar">
        Noteringar
      </h2>

      <p>
        CSS-tabeller stöddes i Internet Explorer från och med IE8. Annars är stödet <a href="http://caniuse.com/css-table" target="_blank">mycket robust</a>.
      </p>

      <p>
        Även om <a href="http://www.amazon.co.uk/dp/0980455227" target="_blank">Allt du vet om CSS är fel</a> kanske låter som en skrämmande boktitel, är den faktiskt en bra läsning&mdash;och några av kommentarerna på Amazon är roliga.
      </p>

      <p>
        Om du överväger att lägga till något som en rullningsbar karusell inuti en CSS-tabellcell, läsa upp på <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout" target="_blank">table-layout</a>-egenskapen, särskilt "fixed"-värdet. Detta förhindrar cellen från att växa för att innehålla sitt innehåll och incidentellt kan minska renderingstiderna eftersom webbläsare inte behöver beräkna alla de olika bredderna av alla de olika innehållen i dina celler.
      </p>

      <p>
        Jag har stött på en speciell bugg i Firefox som rör positionering av element inuti HTML- och CSS-tabellceller. Lösningen med "minst möjliga markup" som upptäcktes av en nuvarande Mozilla-anställd, är att ge både tabellraden och cellen <a href="http://davidwalsh.name/table-cell-position-absolute" target="_blank">en höjd av 100%</a>. En annan väl dokumenterad lösning är att använda ett element inuti cellen för att upprätta en positioneringskontext.
      </p>

      <p>
        Ian Yates skrev en utmärkt <a href="http://webdesign.tutsplus.com/tutorials/the-role-of-table-layouts-in-responsive-web-design--webdesign-10294" target="_blank">Tuts+ artikel</a> om att använda CSS-tabeller för annonser, som ofta representerar fasta komponenter i en flytande layout.
      </p>

      <p>
        Ben Frain har gjort några riktigt intressanta <a href="http://benfrain.com/css-performance-test-flexbox-v-css-table-fight/" target="_blank">prestandatester</a> som jämför flexbox med CSS-tabeller. Hans förbehåll om provstorlek och brist på riktiga specifikationer för flexbox bör noteras.
      </p>

      <p>
        Roger Johansson <a href="http://www.456bereastreet.com/archive/201110/using_displaytable_has_semantic_effects_in_some_screen_readers/" target="_blank">noterade i oktober 2011</a> att vissa skärmläsare behandlar CSS-tabeller som HTML-tabeller, vilket är en nackdel. Kanske har det ändrats under de senaste två och ett halvt åren?
      </p>

      <p>
        Som alla som arbetar på internet gör jag många misstag. Var snäll och skrik via Twitter om jag gjort några här eller om du har intressanta insikter eller om du har gratis öl.
      </p>
    </main>

    <footer>
      <hr>
      <a href="/goto" name="goto">&mdash;&gt; goto</a>
      <blockquote>
        <ul>
          <li>
            <a href="/about">om<a>
          </li>
          <li>
            <a href="mailto:i-hate-this@drawohara.io?subject=/the-shadow-world-of-css-tables">i-hate-this<a>
          </li>
          <li>
            <a href="mailto:i-love-this@drawohara.io?subject=/the-shadow-world-of-css-tables">i-love-this<a>
          </li>
          <li>
            <a href="/contact">kontakt<a>
          </li>
        </ul>
      </blockquote>
      <a href="/">&lt;&mdash; eject</a>
    </footer>
  </body>
</html>