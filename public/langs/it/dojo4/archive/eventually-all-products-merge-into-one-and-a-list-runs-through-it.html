<html color-mode="user" lang="it">
  <head>
  <base href='/it' />
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>Alla Fine, Tutti i Prodotti Si Fondono in Uno e Una Lista Li Attraversa</title>

<meta property="og:title" content="Alla Fine, Tutti i Prodotti Si Fondono in Uno e Una Lista Li Attraversa"/>
<meta property="og:description" content="muoviti." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

  <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa"}">
    <meta property="site:path_info" content=""/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
<hr>
    </header>

    <main>
      <p>Recentemente, mentre aiutavo un cliente a markupare un tema <a href="http://shopify.com" target="_blank">Shopify</a>, mi sono imbattuto in un problema spinoso: come fondere l'output di un ciclo con quello di un altro in modo fluido. Permettetemi di spiegare.
    </p>
    <p>
      La maggior parte dei temi Shopify include un "modello di raccolta" dove i prodotti sono elencati tramite un ciclo <a href="http://wiki.shopify.com/UsingLiquid" target="_blank">Liquid</a>. La <a href="#figure1">Figura 1</a> mostra come tali elenchi spesso prendono forma.
    </p>
    <figure id="figure1" class="pal lightestgrayBg mvl" style="text-align: center;"><img src='/it/ro/dojo4/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa/assets/mockup.png' title="Mockup" alt="Mockup" /><figcaption class="mtm fontItalic">
        <strong><em>Figura 1</em>
</strong>: Un tipico elenco di prodotti Shopify
      </figcaption>
    </figure>
    <p>
      Se non sei contrario all'uso delle <code>TABLE</code> per tali layout, Liquid ti copre con il suo tag <code>TABLEROW</code> (<a href="http://wiki.shopify.com/UsingLiquid#Tables">reference</a>). Se i sistemi a griglia sono più la tua velocità, vorrai impiegare qualche tipo di <a href="http://stackoverflow.com/questions/2245972/modulus-or-lack-thereof-in-rubys-liquid-templating-engine/8439160#8439160" target="_blank">hack di avvolgimento delle righe</a>, poiché Liquid non ha un enumeratore <code>each_slice()</code> o un operatore <code>modulus</code>.
    </p>
    <p>
      Ma se, come me, pensi che la markup semanticamente appropriata per un elenco di prodotti sia una lista non ordinata (<code>UL</code>), ti impegni a lavorare con un flusso di <code>LI</code>.
    </p>
    <p>
      Come ho menzionato sopra, questo design richiedeva che un elenco di raccolte di prodotti apparisse in linea con l'elenco dei prodotti, ma non solo ovunque. Doveva essere il terzo elemento nella prima riga, come mostrato nella <a href="#figure2">Figura 2</a>.
    </p>
    <figure id="figure2" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/it/ro/dojo4/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa/assets/desired-layout.png' title="Layout Desiderato" alt="Layout Desiderato" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figura 2</em>
</strong>: Un ciclo di elenco dei prodotti apparentemente interrotto da un elenco di navigazione
      </figcaption>
    </figure>
    <p>
      Ora, non volevo iniziare un ciclo, fermarlo, iniziarne un altro, fermarlo, e poi ricominciare il primo con un offset appropriato. Sembrava troppo manuale. Ancora una volta, volevo che l'output fosse un flusso di <code>LI</code> come questo:
    </p>
      <script src="https://gist.github.com/icegulch/8373741.js"></script>
    <p>
      Quindi, mi rimanevano due scelte per disporre questo flusso di <code>LI</code>: galleggiare e cancellare oppure bloccarli in linea.
    </p>
    <p>
      È abbastanza facile immaginare come potresti ottenere il layout desiderato con i float, galleggiando ogni <code>LI</code> a sinistra, tranne il primo, che sarebbe galleggiato a destra. Ma l'opzione di galleggiamento richiede una cancellazione attenta—sia l'<code>UL</code> stesso che ogni terzo <code>LI</code> (a partire dal primo) deve essere cancellato per evitare il problema rivelato nella <a href="#figure3">Figura 3</a>.
    </p>
    <figure id="figure3" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/it/ro/dojo4/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa/assets/float-issue.png' title="Problema di Galleggiamento" alt="Problema di Galleggiamento" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figura 3</em>
</strong>: Quando il primo LI in ogni "riga" non viene cancellato...
      </figcaption>
    </figure>
    <p>
      Il tag <code>CYCLE</code> di Liquid (<a href="http://wiki.shopify.com/UsingLiquid#Cycle">reference</a>) è un modo utile per farlo, così come i selettori pseudo posizionali di CSS3 (<a href="http://reference.sitepoint.com/css/pseudoclass-nthchild" target="_blank">documentazione</a>). Ma quando è richiesto il supporto per IE7/IE8, il ciclo è la scommessa migliore.
    </p>
    <p>
      Tuttavia, questa casa di carte di cancellazione mi sembrava fragile, quindi mi sono impegnato a mettere in pratica la tecnica di elenco in blocco in linea sopra menzionata.
    </p>
<script src="https://gist.github.com/icegulch/8373784.js"></script>
    <p>
       Che mi ha portato per la maggior parte del percorso, come dimostra la <strong>Figura 4</strong>.
    </p>
    <figure id="figure4" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/it/ro/dojo4/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa/assets/initial-inline-block.png' title="Blocco Inline Iniziale" alt="Blocco Inline Iniziale" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figura 4</em>
</strong>: Primo tentativo di layout in blocco inline
      </figcaption>
    </figure>
    <p>
      Anche se la tecnica in blocco inline mi ha liberato dalle preoccupazioni di cancellazione, ho comunque dovuto confrontarmi con la sfida di posizionamento del design: l'elenco di navigazione dei prodotti doveva essere a filo a destra nella prima riga. Galleggiarlo a destra non era nemmeno la risposta, poiché ciò avrebbe sottoposto il nostro layout allo stesso rischio mostrato nella <a href="#figure3">Figura 3</a>.
    </p>
    <p>
      È stato allora che ho avuto un'idea folle: e se avessi cambiato la direzione della lingua dell'<code>UL</code> in modo che l'elenco venisse visualizzato da destra a sinistra? Incoraggiato da un <a href="http://css-tricks.com/star-ratings/" target="_blank">recente articolo di Chris Coyier</a>, ho deciso di provarci. Ecco cosa ho escogitato alla fine:
    </p>
<script src="https://gist.github.com/icegulch/8373820.js"></script>
<p>
      Come puoi vedere, ho dovuto cambiare la direzione della lingua dell'<code>UL</code> contenitore, quindi reimpostarla sugli elementi all'interno dei suoi <code>LI</code> (per qualche motivo, reimpostare la direzione della lingua sui <code>LI</code> stessi non ha funzionato in Opera). Ho anche dovuto impostare la dimensione del font sull'<code>UL</code> a zero per <a href="http://css-tricks.com/fighting-the-space-between-inline-block-elements/" target="_blank">evitare questo</a>.
    </p>
    <p>
      Poiché l'elenco dei prodotti in questo negozio non richiedeva un ordine specifico (alfabetico, prezzo, ecc.), andava bene che l'output fluisse da destra a sinistra, come mostrato nella <a href="#figure5">Figura 5</a>.
    </p>
    <figure id="figure5" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/it/ro/dojo4/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa/assets/inline-block-final.png' title="Blocco Inline Finale" alt="Blocco Inline Finale" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figura 5</em>
</strong>: lo scambio di direzione della lingua in azione
      </figcaption>
    </figure>
    <p>
      Sebbene ci siano pro e contro sia per i layout galleggianti che per quelli in blocco inline, ho pensato che quest'ultimo fosse un po' più elegante in questa situazione. Qualcuno di voi si è imbattuto in questo? Siete <a href="http://youtu.be/ATKQLgi5Z2Y" target="_blank">perseguitati</a> dalle liste?
    </p>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; vai</a>
<blockquote>
<ul>
  <li>
    <a href="/about">informazioni<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa">i-hate-this<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/alla-fine-tutti-i-prodotti-si-fondono-in-uno-e-una-lista-li-attraversa">i-love-this<a>
  </li>
  <li>
    <a href="/contact">contatti<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; esci</a>
    </footer>
  </body>
</html>