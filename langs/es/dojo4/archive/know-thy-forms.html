<html color-mode="user" lang="es">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- langs -->
  <!--
    https://developers.google.com/search/docs/specialty/international/localized-versions#html
  -->
   <link rel="alternate" hreflang="en" href="/" />
   <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
   <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
   <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
   <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
   <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>no hay nada que ver aqu√≠.</title>

<meta property="og:title" content="no hay nada que ver aqu√≠."/>
<meta property="og:description" content="siga adelante." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"know-thy-forms"}">
    <meta property="site:path_info" content=""/know-thy-forms"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>
    <base href='/langs/es' />
  </head>

  <body>
    <header>
      <a href="/inicio">@drawohara</a> &mdash;
<a href="mailto:me-encanta-esto@drawohara.io?subject=/know-thy-forms">¬°Me ‚ù§Ô∏è esto!</a>
<small>
  <small>
    <small>
      <span title='b√©beme'>&lt;&lt; haz clic aqu√≠ üêõ ü´ñ üßö</a>
    </small>
  </small>
</small>
<hr>
<strong>/know-thy-forms</strong>
    </header>

    <main>
      <em>publicado el: 2013-06-17</em>
<br>
<br>
<div class="ro markdown">
  <p>Hoy he creado un peque√±o cuestionario sobre formularios HTML.</p>

<p>ref: https://gist.github.com/ahoward/98591ebc9113bea1cf02</p>

<div class="language-html highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style="color: #6e7781">&lt;!--</span>
</div><div class='code-line code-line-3'>
</div><div class='code-line code-line-4'><span style="color: #6e7781">    bifurca esto. no uses internet. t√≥mate &lt; 10 minutos para encontrar al menos 10</span>
</div><div class='code-line code-line-5'><span style="color: #6e7781">    errores distintos en este formulario. env√≠a tu respuesta en el campo de comentarios de</span>
</div><div class='code-line code-line-6'><span style="color: #6e7781">    tu bifurcaci√≥n y env√≠ame por correo electr√≥nico (ara[at]dojo4.com) la url.</span>
</div><div class='code-line code-line-7'>
</div><div class='code-line code-line-8'><span style="color: #6e7781">  --&gt;</span>
</div><div class='code-line code-line-9'>
</div><div class='code-line code-line-10'>&nbsp;&nbsp;<span style="color: #116329">&lt;form</span>&nbsp;<span style="color: #116329">method=</span><span style="color: #0a3069">'DELETE'</span>&nbsp;<span style="color: #116329">ACTION=</span><span style="color: #0a3069">'./'</span>&nbsp;<span style="color: #116329">enctype=</span><span style="color: #0a3069">"multipart/file-upload"</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-11'>
</div><div class='code-line code-line-12'>&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-13'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;fieldset&gt;</span>
</div><div class='code-line code-line-14'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;legend&gt;</span>&nbsp;etiquetas&nbsp;<span style="color: #116329">&lt;/legend&gt;</span>
</div><div class='code-line code-line-15'>
</div><div class='code-line code-line-16'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">'text'</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'etiquetas'</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">/&gt;</span>
</div><div class='code-line code-line-17'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">'text'</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'etiquetas'</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'bar'</span><span style="color: #116329">/&gt;</span>
</div><div class='code-line code-line-18'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/fieldset&gt;</span>
</div><div class='code-line code-line-19'>
</div><div class='code-line code-line-20'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;label</span>&nbsp;<span style="color: #116329">for=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>Foo:&nbsp;<span style="color: #116329">&lt;/label&gt;</span>&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-21'>
</div><div class='code-line code-line-22'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;label&gt;</span>
</div><div class='code-line code-line-23'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bar:&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'bar'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-24'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/label&gt;</span>
</div><div class='code-line code-line-25'>
</div><div class='code-line code-line-26'>
</div><div class='code-line code-line-27'>
</div><div class='code-line code-line-28'>
</div><div class='code-line code-line-29'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'email'</span>&nbsp;<span style="color: #116329">readonly</span><span style="color: #116329">/&gt;</span>
</div><div class='code-line code-line-30'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'password'</span>&nbsp;<span style="color: #116329">disabled=</span><span style="color: #0a3069">disabled/</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-31'>
</div><div class='code-line code-line-32'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">'file'</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'file'</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'.bashrc'</span><span style="color: #116329">/&gt;</span>
</div><div class='code-line code-line-33'>
</div><div class='code-line code-line-34'>
</div><div class='code-line code-line-35'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;fieldset&gt;</span>
</div><div class='code-line code-line-36'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;legend&gt;</span>Sexo<span style="color: #116329">&lt;/legend&gt;</span>
</div><div class='code-line code-line-37'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">"radio"</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">"sexo"</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-38'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'hombre'</span><span style="color: #116329">&gt;</span>Hombre<span style="color: #116329">&lt;/option&gt;</span>
</div><div class='code-line code-line-39'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'mujer'</span><span style="color: #116329">/&gt;</span>
</div><div class='code-line code-line-40'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/input&gt;</span>
</div><div class='code-line code-line-41'>
</div><div class='code-line code-line-42'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;fieldset&gt;</span>
</div><div class='code-line code-line-43'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;legend&gt;</span>Transporte<span style="color: #116329">&lt;/legend&gt;</span>
</div><div class='code-line code-line-44'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">"checkbox"</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">"veh√≠culo"</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">"Bicicleta"</span><span style="color: #116329">&gt;</span>Tengo&nbsp;una&nbsp;bicicleta<span style="color: #116329">&lt;br&gt;</span>
</div><div class='code-line code-line-45'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">"checkbox"</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">"veh√≠culo"</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">"Coche"</span><span style="color: #116329">&gt;</span>Tengo&nbsp;un&nbsp;coche&nbsp;
</div><div class='code-line code-line-46'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/fieldset&gt;</span>
</div><div class='code-line code-line-47'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/fieldset&gt;</span>
</div><div class='code-line code-line-48'>
</div><div class='code-line code-line-49'>
</div><div class='code-line code-line-50'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;select</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'habilidades-desarrollo-web'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-51'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'A'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-52'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'B'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-53'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'C'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-54'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'D'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-55'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;option</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'F'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-56'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;/select&gt;</span>
</div><div class='code-line code-line-57'>&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-58'>
</div><div class='code-line code-line-59'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;hr&gt;</span>
</div><div class='code-line code-line-60'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #116329">&lt;button</span>&nbsp;<span style="color: #116329">type=</span><span style="color: #0a3069">'submit'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-61'>&nbsp;&nbsp;<span style="color: #116329">&lt;/form&gt;</span>
</div><div class='code-line code-line-62'>
</div></code></div>

<p>El objetivo de hacer que la gente escanee este formulario HTML completamente roto era simplemente ver la l√≠nea de pensamiento de las personas con esto: la columna vertebral de las interfaces HTML.</p>

<p>A continuaci√≥n se presentan algunas respuestas de ejemplo, agrupadas aproximadamente por categor√≠a, y comentarios sobre cada una de ellas.</p>

<hr />
<h3 id="doctype-estropeado">doctype estropeado</h3>
<hr />

<ul>
  <li>Sin doctype. Dificulta determinar qu√© versi√≥n de HTML es, lo que deber√≠a llevar a respuestas interesantes‚Ä¶</li>
  <li>Mezcla etiquetas vac√≠as de estilo xhtml con etiquetas HTML.</li>
</ul>

<p>Seguramente, la mayor√≠a de la gente pas√≥ por alto que muchos errores depend√≠an de la declaraci√≥n del doctype. qu√© estilo de etiquetas puedes usar depende completamente del doctype.</p>

<hr />
<h3 id="m√©todo-delete">m√©todo=delete</h3>
<hr />

<ul>
  <li>l√≠nea 1: DELETE no es una acci√≥n soportada en formularios HTML:</li>
  <li>m√©todo=delete no se soporta directamente en la mayor√≠a/todos? de los navegadores.</li>
  <li>los formularios no soportan delete en navegadores antiguos</li>
  <li>M√©todo delete</li>
  <li>form m√©todo='DELETE' ‚Äì eso no est√° permitido</li>
</ul>

<p>aunque pensamos en verbos http con apis de cliente, incluyendo javascript. para la mayor√≠a de los navegadores obtienes GET y POST. esto es importante si has estado considerando una api basada en xhtml.</p>

<hr />
<h3 id="enctype-basura">enctype=basura</h3>
<hr />

<ul>
  <li>enctype="multipart/form-data" no enctype="multipart/file-upload‚Äù</li>
  <li>enc-type="multipart/file-upload no tiene sentido si nuestra intenci√≥n es ELIMINAR</li>
</ul>

<p>los errores de enctype siempre desperdician un d√≠a. equiv√≥cate y desperdiciar√°s el d√≠a publicando el nombre de tu archivo como una cadena, en lugar del contenido del archivo codificado. tambi√©n es importante se√±alar que el enctype simplemente dicta c√≥mo se codifica el formulario y es completamente ortogonal al verbo http utilizado.</p>

<hr />
<h3 id="inputfoo--inputfoo">input=foo &amp;&amp; input=foo</h3>
<hr />

<ul>
  <li>etiquetas de entrada de texto en el primer fieldset tienen el nombre</li>
  <li>etiquetas duplicadas ‚Äútags‚Äù. O dos etiquetas con el mismo nombre de nuevo</li>
  <li>2 campos de texto llamados ‚Äútags‚Äù solo se usar√° el √∫ltimo.</li>
  <li>Dos entradas con el mismo nombre 'tags'. La segunda sobrescribir√≠a el valor de la primera.</li>
  <li>Dos entradas con el nombre 'foo' (no autocerradas)</li>
  <li>entradas de texto con el mismo nombre sobrescribir√≠an respecto a: entradas con nombre etiquetas</li>
  <li>asignaciones duplicadas a input name='etiquetas'</li>
  <li>asignaciones duplicadas a input name='veh√≠culo'</li>
</ul>

<p>Muchas ideas err√≥neas sobre esto. es <em>totalmente leg√≠timo</em> publicar el mismo par√°metro &gt; 1 veces en un formulario. la especificaci√≥n lo soporta e incluso el antiguo soporte cgi soporta la noci√≥n de publicar m√∫ltiples valores bajo la misma clave. es simplemente convenci√≥n que muchos controladores vuelcan estos en un hash donde 'el √∫ltimo gana‚Äô</p>

<p>puedes probarlo f√°cilmente tu mismo. publica esto desde un formulario</p>

<div class="language-html highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'respuesta'</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'40'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'respuesta'</span>&nbsp;<span style="color: #116329">value=</span><span style="color: #0a3069">'2'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-5'>&nbsp;&nbsp;
</div></code></div>

<p>y ver√°s lo siguiente en la consola del navegador</p>

<p>&lt;img<br />
style =‚Äômax-height:420px;‚Äô src=‚Äôhttp://cl.ly/image/3I2Q2v0D1B1G/Screen%20Shot%202013-06-17%20at%204.09.23%20PM.png‚Äô</p>
<blockquote>

</blockquote>

<p>si manejas la publicaci√≥n del formulario de la siguiente manera</p>

<div class="language-ruby highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">formulario</span>
</div><div class='code-line code-line-3'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">return</span>&nbsp;<span style="color: #cf222e">if</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">request</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">get?</span>
</div><div class='code-line code-line-4'>&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-5'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">parsed</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #953800">Parser</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">new</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">env</span><span style="color: #24292f;background-color: #f6f8fa">).</span><span style="color: #8250df">parse</span>
</div><div class='code-line code-line-6'>&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-7'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">render</span>&nbsp;<span style="color: #0a3069">:json</span>&nbsp;<span style="color: #0550ae">=&gt;</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">parsed</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">as_json</span><span style="color: #24292f;background-color: #f6f8fa">,</span>&nbsp;<span style="color: #0a3069">:layout</span>&nbsp;<span style="color: #0550ae">=&gt;</span>&nbsp;<span style="color: #cf222e">true</span>
</div><div class='code-line code-line-8'>&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-9'>
</div><div class='code-line code-line-10'>
</div><div class='code-line code-line-11'><span style="color: #6e7781"># hackea el parser de rack para mostrar que http S√ç publica m√∫ltiples valores</span>
</div><div class='code-line code-line-12'><span style="color: #6e7781"># y que, si queremos, podr√≠amos acumularlos</span>
</div><div class='code-line code-line-13'><span style="color: #6e7781">#</span>
</div><div class='code-line code-line-14'>&nbsp;&nbsp;<span style="color: #cf222e">class</span>&nbsp;<span style="color: #953800">Parser</span>&nbsp;<span style="color: #0550ae">&lt;</span>&nbsp;<span style="color: #953800">Rack</span><span style="color: #0550ae">::</span><span style="color: #953800">Multipart</span><span style="color: #0550ae">::</span><span style="color: #953800">Parser</span>
</div><div class='code-line code-line-15'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">setup_parse</span>
</div><div class='code-line code-line-16'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">super</span>
</div><div class='code-line code-line-17'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">ensure</span>
</div><div class='code-line code-line-18'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0550ae">@params</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #953800">KeyList</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">new</span>
</div><div class='code-line code-line-19'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-20'>
</div><div class='code-line code-line-21'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">class</span>&nbsp;<span style="color: #953800">KeyList</span>
</div><div class='code-line code-line-22'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">initialize</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #0550ae">*</span><span style="color: #24292f;background-color: #f6f8fa">args</span><span style="color: #24292f;background-color: #f6f8fa">,</span>&nbsp;<span style="color: #0550ae">&amp;</span><span style="color: #24292f;background-color: #f6f8fa">block</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-23'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0550ae">@params</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">{}</span>
</div><div class='code-line code-line-24'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-25'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-26'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">[]</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-27'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0550ae">@params</span><span style="color: #24292f;background-color: #f6f8fa">[</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">]</span>
</div><div class='code-line code-line-28'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-29'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-30'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">[]=</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">,</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">value</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-31'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #0550ae">@params</span><span style="color: #24292f;background-color: #f6f8fa">[</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">]</span>&nbsp;<span style="color: #0550ae">||=</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">[]).</span><span style="color: #8250df">push</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">value</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-32'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-33'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-34'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">key?</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-35'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0550ae">@params</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">key?</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">key</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-36'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-37'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</div><div class='code-line code-line-38'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">to_params_hash</span><span style="color: #24292f;background-color: #f6f8fa">()</span>
</div><div class='code-line code-line-39'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #953800">self</span>
</div><div class='code-line code-line-40'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-41'>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-42'>&nbsp;&nbsp;<span style="color: #cf222e">end</span>
</div><div class='code-line code-line-43'>
</div><div class='code-line code-line-44'>
</div></code></div>

<p>luego obtendr√°s una respuesta que se ve as√≠</p>

<div class="language-javascript highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>
</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">{</span><span style="color: #0a3069">"</span><span style="color: #0a3069">params</span><span style="color: #0a3069">"</span><span style="color: #24292f;background-color: #f6f8fa">:{</span><span style="color: #0a3069">"</span><span style="color: #0a3069">respuesta</span><span style="color: #0a3069">"</span><span style="color: #24292f;background-color: #f6f8fa">:[</span><span style="color: #0a3069">"</span><span style="color: #0a3069">40</span><span style="color: #0a3069">"</span><span style="color: #24292f;background-color: #f6f8fa">,</span><span style="color: #0a3069">"</span><span style="color: #0a3069">2</span><span style="color: #0a3069">"</span><span style="color: #24292f;background-color: #f6f8fa">]}}</span>
</div><div class='code-line code-line-4'>
</div><div class='code-line code-line-5'>
</div><div class='code-line code-line-6'>
</div></code></div>

<h4 id="resumen">Resumen;</h4>

<p>tu stack web puede eliminar m√∫ltiples valores al cargar un hash, pero la biblioteca cgi.rb de ruby y http en general no lo hacen. esto se aplica a entradas, checkboxen, etc - cualquier cosa con nombre puede pasar m√∫ltiples valores.</p>

<p>en particular, la biblioteca cgi.rb de ruby no limita la publicaci√≥n de m√∫ltiples valores bajo una clave</p>

<p>mientras que rails s√≠</p>

<hr />
<h3 id="las-etiquetas-son-blargh">las etiquetas son blargh</h3>
<hr />

<ul>
  <li>No for en la etiqueta ‚ÄòBar:‚Äô.</li>
  <li>etiqueta no vinculada: <label>Bar:‚Ä¶</label> (etiqueta para qu√©?)</li>
</ul>

<p>las etiquetas sin un for son <em>totalmente leg√≠timas</em>. cuando envuelves una entrada con una etiqueta, el 'for' se implica como la entrada contenida. estas son equivalentes</p>

<div class="language-html highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'><span style="color: #116329">&lt;label</span>&nbsp;<span style="color: #116329">for=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>Foo<span style="color: #116329">&lt;/label&gt;</span>&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-3'>
</div><div class='code-line code-line-4'><span style="color: #116329">&lt;label</span>&nbsp;<span style="color: #116329">for=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;</span>Foo&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">name=</span><span style="color: #0a3069">'foo'</span><span style="color: #116329">&gt;&lt;/label&gt;</span>
</div><div class='code-line code-line-5'>
</div><div class='code-line code-line-6'>
</div></code></div>

<p>con el primero siendo <em>mucho</em> m√°s simple de manejar en js ( $label.find(‚Äòinput‚Äô) )</p>

<div class="language-javascript highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">$label</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">find</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #0a3069">'</span><span style="color: #0a3069">input</span><span style="color: #0a3069">'</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
</div><div class='code-line code-line-3'>&nbsp;
</div><div class='code-line code-line-4'>
</div></code></div>

<p>vs.</p>

<div class="language-javascript highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>&nbsp;
</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style="color: #cf222e">var</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">name</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">$label</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">attr</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #0a3069">'</span><span style="color: #0a3069">for</span><span style="color: #0a3069">'</span><span style="color: #24292f;background-color: #f6f8fa">);</span>
</div><div class='code-line code-line-3'>&nbsp;&nbsp;
</div><div class='code-line code-line-4'>&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">$input</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #8250df">$</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #0a3069">'</span><span style="color: #0a3069">name[</span><span style="color: #0a3069">'</span>&nbsp;<span style="color: #0550ae">+</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">name</span>&nbsp;<span style="color: #0a3069">'</span><span style="color: #0a3069">]</span><span style="color: #0a3069">'</span><span style="color: #24292f;background-color: #f6f8fa">);</span>
</div><div class='code-line code-line-5'>&nbsp;
</div><div class='code-line code-line-6'>
</div></code></div>

<hr />
<h3 id="readonly-y-disabled-son-dif√≠ciles">readonly y disabled son dif√≠ciles</h3>
<hr />

<ul>
  <li>entrada readonly sin valor es in√∫til</li>
  <li>disabled deber√≠a tener comillas alrededor (tambi√©n una mala mezcla de comillas simples y dobles a lo largo)</li>
  <li>faltan comillas alrededor del atributo disabled en la declaraci√≥n incorrecta de entrada de contrase√±a</li>
  <li>disabled=disabled deber√≠a ser disabled</li>
  <li>faltan comillas alrededor del atributo disabled</li>
</ul>

<p>readonly y disabled son ambos <em>atributos booleanos</em> y, como tales, tienen tanto permutaciones con comillas/sin comillas como con valor/sin valor</p>

<p>todos estos est√°n bien</p>

<div class="language-html highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">readonly</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">readonly=</span><span style="color: #0a3069">readonly</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-4'>&nbsp;&nbsp;<span style="color: #116329">&lt;input</span>&nbsp;<span style="color: #116329">readonly=</span><span style="color: #0a3069">"readonly"</span><span style="color: #116329">&gt;</span>
</div><div class='code-line code-line-5'>
</div><div class='code-line code-line-6'>
</div></code></div>

<p>aunque ser consistente y usar comillas es m√°s ampliamente manejado en editores de texto</p>

<p>refs:</p>

<ul>
  <li>http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#the-readonly-attribute</li>
  <li>http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#boolean-attribute</li>
</ul>

<hr />
<h3 id="formaction">form[action]</h3>
<hr />

<ul>
  <li>action="./" parece una mala pr√°ctica para m√≠</li>
  <li>la acci√≥n del formulario no es v√°lida como descriptor de ruta de archivo unix ‚Äì para enviar a la url actual, elimina la acci√≥n por completo ya que esa es la