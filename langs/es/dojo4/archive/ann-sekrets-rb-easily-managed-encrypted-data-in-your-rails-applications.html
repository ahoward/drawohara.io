<html color-mode="user" lang="es">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- langs -->
  <!--
    https://developers.google.com/search/docs/specialty/international/localized-versions#html
  -->
   <link rel="alternate" hreflang="en" href="/" />
   <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
   <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
   <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
   <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
   <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>nada que ver aqu칤.</title>

<meta property="og:title" content="nada que ver aqu칤."/>
<meta property="og:description" content="sigue adelante." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

<meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"}">
    <meta property="site:path_info" content=""/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>

    <base href='/langs/es' />
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a> &mdash;
<a href="mailto:i-love-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">춰me encanta esto!</a>
<small>
  <small>
    <small>
      <span title='b칠belo'>&lt;&lt; haz clic aqu칤 游냍 游삈 游빀</a>
    </small>
  </small>
</small>
<hr>
<strong>/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications</strong>
    </header>

    <main>
      <em>publicado en: 2013-02-21</em>
<br>
<br>
<div class="ro markdown">
  <p>ref: https://github.com/ahoward/sekrets</p>

<pre>

NOMBRE
  sekrets.rb

SINOPSIS
  sekrets es una herramienta de l칤nea de comandos y una biblioteca utilizada para gestionar archivos y configuraciones encriptados de manera segura en tus aplicaciones de rails y repositorios de git.

INSTALAR
  gem install sekrets
  gem 'sekrets'

DESCRIPCI칍N
  TL;DR
    # crear un archivo de configuraci칩n encriptado

      ruby -r yaml -e'puts({:api_key => 1234}.to_yaml)' | sekrets write config/settings.yml.enc --key 42

    # mostrarlo

      sekrets read config/settings.yml.enc --key 42

    # editarlo

      sekrets edit config/settings.yml.enc --key 42

    # ver que est치 encriptado

      cat config/settings.yml.enc

    # confirmarlo

      git add config/settings.yml.enc

    # poner la clave de desencriptaci칩n en un archivo

      echo 42 > .sekrets.key

    # ignorar este archivo en git

      echo .sekrets.key >> .gitgnore

    # ahora ya no necesitas proporcionar el argumento --key a los comandos

      sekrets read config/settings.yml.enc

      sekrets edit config/settings.yml.enc

    # aseg칰rate de que este archivo se despliegue en tu servidor

      echo " require 'sekrets/capistrano' " >> Capfile

    # confirmar y desplegar

      git add config/settings.yml.enc
      git commit -am'configuraciones encriptadas'
      git pull && git push && cap staging deploy

    # acceder a estas configuraciones en el c칩digo de tu aplicaci칩n

      settings = Sekrets.settings_for('./config/settings.yml.enc')


  DESCRIPCI칍N
    sekrets proporciona herramientas de l칤nea de comandos y una biblioteca para gestionar y acceder a archivos encriptados en tu base de c칩digo.

    permite verificar informaci칩n encriptada en un repositorio y gestionarla junto con el resto de la base de c칩digo. elimina la necesidad de verificar informaci칩n no encriptada, claves u otra informaci칩n sensible.

    sekrets proporciona tanto un mecanismo general para gestionar archivos encriptados arbitrarios como un mecanismo espec칤fico para gestionar archivos de configuraci칩n encriptados.


  B칔SQUEDA DE CLAVES
    para *todas* las operaciones, desde la l칤nea de comandos o de otra manera, sekrets utiliza el siguiente algoritmo para buscar una clave de desencriptaci칩n:

    - cualquier clave pasada directamente como par치metro a una llamada de biblioteca ser치 preferida

    - de lo contrario, el c칩digo busca un archivo de clave compa침ero. por ejemplo, dado el archivo 'config/sekrets.yml.enc' sekrets buscar치 una clave en

        config/.sekrets.yml.enc.key

      si alguno de estos se encuentra que no est칠 vac칤o, el contenido del archivo se utilizar치 como la clave de desencriptaci칩n para ese archivo. nunca debes confirmar estos archivos de clave y tambi칠n agregarlos a tu .gitignore - o similar.

    - a continuaci칩n, se busca un archivo de clave de proyecto. la ruta de este archivo es

        ./.sekrets.key

      normalmente y, en una aplicaci칩n de rails

        RAILS_ROOT/.sekrets.key

    - si eso no se encuentra, sekrets busca la clave en el entorno bajo la variable de entorno

        SEKRETS_KEY

      la variable de entorno utilizada es configurable en la biblioteca

    - a continuaci칩n, se busca el archivo de clave global, la ruta de este archivo es

        ~/.sekrets.key

    - finalmente, si a칰n no se ha especificado ni encontrado ninguna clave, se le pide al usuario que ingrese la clave. el prompt solo ocurre si el usuario est치 conectado a una tty. por lo tanto, por ejemplo, ning칰n prompt quedar치 colgado y una aplicaci칩n que se inicie en segundo plano como una aplicaci칩n de rails administrada por passenger.


    ver Sekrets.key_for para m치s detalles

  DISTRIBUCI칍N DE CLAVES
    sekrets no intenta resolver el problema de distribuci칩n de claves por ti, con una excepci칩n:

    si est치s utilizando capistrano para realizar un despliegue 'vanilla' basado en ssh, se proporciona una receta simple que detectar치 un archivo de clave local y lo copiar치 mediante scp al(los) servidor(es) remoto(s) al desplegar.

    sekrets asume que el archivo de clave local, si existe, es correcto.

    en ingl칠s sencillo, la receta de capistrano hace:

      scp ./sekrets.key deploy@remote.host.com:/rails_root/current/sekrets.key

    va sin decir que el archivo de clave local nunca debe ser verificado y tambi칠n debe estar en .gitignore

    la distribuci칩n de esta clave entre los desarrolladores est치 fuera del alcance de la biblioteca. es probable que el correo electr칩nico sin encriptar sea el mejor mecanismo para la distribuci칩n ;-/

</pre>

</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; ir a</a>
<blockquote>
<ul>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/ann-sekrets-rb-easily-managed-encrypted-data-in-your-rails-applications">游땰, odio ^esto!<a>
  </li>
  <li>
    <a href="/now">/ahora<a>
  </li>
  <li>
    <a href="/about">/sobre<a>
  </li>
  <li>
    <a href="/contact">/contacto<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; salir</a>
    </footer>
  </body>
</html>