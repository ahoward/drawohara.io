<html color-mode="user" lang="nl">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- langs -->
  <!--
    https://developers.google.com/search/docs/specialty/international/localized-versions#html
  -->
   <link rel="alternate" hreflang="en" href="/" />
   <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
   <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
   <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
   <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
   <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />
   <link rel="alternate" hreflang="nl" href="https://drawohara.io/langs/nl" />

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <base href='/langs/nl' />

  <!-- meta -->
    <title>hier is niets te zien.</title>

<meta property="og:title" content="hier is niets te zien."/>
<meta property="og:description" content="ga verder." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />




  <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"easy-cheasy-realtime-log-tailing-in-a-rails-admin-view"}">
    <meta property="site:path_info" content=""/easy-cheasy-realtime-log-tailing-in-a-rails-admin-view"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a> &mdash;
<a href="mailto:i-love-this@drawohara.io?subject=/easy-cheasy-realtime-log-tailing-in-a-rails-admin-view">ik â¤ï¸ dit!</a>
<small>
  <small>
    <small>
      <span title='drink me'>&lt;&lt; klik me ğŸ› ğŸ«– ğŸ§š</a>
    </small>
  </small>
</small>
<hr>
<strong>/easy-cheasy-realtime-log-tailing-in-a-rails-admin-view</strong>
    </header>

    <main>
      <em>gepubliceerd op: 2012-03-07</em>
<br>
<br>
<div class="ro markdown">
  <p>in onze rails-apps hebben we altijd een '/su' of 'super user'-sectie. we dumpen zaken zoals rapporten in die backend. recentelijk had ik supergebruikers nodig om logboeken in realtime vanuit de browser te kunnen bekijken (om te helpen bij het debuggen van firewall-problemen voor een licentieserver die we hebben gebouwd). ik overwoog iets slim te doen zoals websockets en toen werd ik verstandig en besloot ik gewoon het eenvoudigste te doen dat mogelijk werkte - vergeet niet, dit is alleen voor supergebruikers dus de polling-aanpak is <em>juuuust dandy</em>â€¦<br />
<br /><br />
<br /></p>

<p>stap een was om een actie en een weergave in te stellen die een logboek kon volgen, tonen en vervolgens via ajax bijwerken. het ijsje was het toevoegen van een mooie ui (aka <em>link</em>) die de polling kon starten en stoppen<br />
<br /><br />
<br /></p>

<p>hier is een groot deel van de relevante codez<br />
<br /><br />
<br /></p>

<script src="https://gist.github.com/1994292.js?file=tail-f.rb"></script>

<p><br /><br />
<br /></p>

<p>stap twee, getoond in die gist, was om de recursieve logger-functie te verzwakken die ik per ongeluk had toegevoegd: aka - de pollende ajax zelf creÃ«erde massa's logger-output.<br />
<br /></p>

<p>daar heb je het dan. low tech. makkelijk. k.i.s.s. logboek-tailing voor admins.<br />
<br /><br />
<br /></p>

</div>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; ga naar</a>
<blockquote>
<ul>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/easy-cheasy-realtime-log-tailing-in-a-rails-admin-view">ğŸ˜©, ik ğŸ–¤ ^dit!<a>
  </li>
  <li>
    <a href="/now">/nu</a>
  </li>
  <li>
    <a href="/about">/over</a>
  </li>
  <li>
    <a href="/contact">/contact</a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; uitvoeren</a>
    </footer>
  </body>
</html>