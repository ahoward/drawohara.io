<html color-mode="user" lang="uk">
  <head>
    <base href='/langs/uk' />
    <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DQVD9T27V4');
    </script>

    <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

    <!-- langs -->
    <!--
      https://developers.google.com/search/docs/specialty/international/localized-versions#html
    -->
    <link rel="alternate" hreflang="en" href="/" />
    <link rel="alternate" hreflang="uk" href="https://drawohara.io/langs/uk" />
    <link rel="alternate" hreflang="sv" href="https://drawohara.io/langs/sv" />
    <link rel="alternate" hreflang="fr" href="https://drawohara.io/langs/fr" />
    <link rel="alternate" hreflang="es" href="https://drawohara.io/langs/es" />
    <link rel="alternate" hreflang="it" href="https://drawohara.io/langs/it" />

    <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- meta -->
    <title>–¢—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î.</title>

    <meta property="og:title" content="–¢—É—Ç –Ω—ñ—á–æ–≥–æ –Ω–µ–º–∞—î."/>
    <meta property="og:description" content="–ü—Ä–æ–¥–æ–≤–∂—É–π." />
    <meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

    <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content="/dojo4/archive/:id">
    <meta property="site:params" content="{'ext':null,'id':'the-mongoid-wars-removing-production-indexes'}">
    <meta property="site:path_info" content="/the-mongoid-wars-removing-production-indexes">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) { progressBar.remove(); }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a> &mdash;
      <a href="mailto:i-love-this@drawohara.io?subject=/the-mongoid-wars-removing-production-indexes">—è ‚ù§Ô∏è —Ü–µ!</a>
      <small>
        <small>
          <small>
            <span title='–≤–∏–ø–∏–π—Ç–µ –º–µ–Ω–µ'>&lt;&lt; –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –º–µ–Ω–µ üêõ ü´ñ üßö</a>
          </small>
        </small>
      </small>
      <hr>
      <strong>/the-mongoid-wars-removing-production-indexes</strong>
    </header>

    <main>
      <em>–æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ: 2014-06-12</em>
      <br>
      <br>
      <div class="ro markdown">
        <p>–£—á–æ—Ä–∞ <a href="https://twitter.com/cookrn">–†–∞—è–Ω –ö—É–∫</a> —Ç–∞ —è –∑—ñ—Ç–∫–Ω—É–ª–∏—Å—è –∑ –æ–¥–Ω—ñ—î—é –∑ —Ç–∏—Ö –∂–∞—Ö–ª–∏–≤–∏—Ö –ø—Ä–æ–±–ª–µ–º, —è–∫–∞ –≤–∏–Ω–∏–∫–∞—î —Ç—ñ–ª—å–∫–∏ —É –≤–∏—Ä–æ–±–Ω–∏—á–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ —Ç–∞ —è–∫—É –¥–æ—Å–≤—ñ–¥—á–µ–Ω—ñ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –∑–Ω–∞—é—Ç—å —ñ –Ω–µ–Ω–∞–≤–∏–¥—è—Ç—å, –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ <a href="http://gomoshimoshi.com/">Moshi Moshi Co</a> <a href="http://wallspacefinder.com/">Wall Space Finder</a>, —è–∫–∏–π –±—É–≤ —Ç–∏—Ö–æ –∑–∞–ø—É—â–µ–Ω–∏–π.</p>

        <p>–¶—è –ø—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –¥—É–∂–µ —Å–µ—Ä–π–æ–∑–Ω–æ—é, –º–æ–¥–µ–ª—ñ –Ω–µ –∑–±–µ—Ä–µ–∂—É–≤–∞–ª–∏—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –∞–ª–µ –∑–±–µ—Ä–µ–∂—É–≤–∞–ª–∏—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ —Ç–∞ —É –≤–∏—Ä–æ–±–Ω–∏—á–æ–º—É.</p>

        <p>–ó–≤–∏—á–∞–π–Ω–æ, –º–∏ –ø–æ–¥—É–º–∞–ª–∏, —â–æ —Ü–µ –ø–æ–≤'—è–∑–∞–Ω–æ –∑ <em>RAILS_ENV</em>, –∞–ª–µ —Ü–µ –±—É–ª–æ –Ω–µ —Ç–∞–∫‚Ä¶</p>

        <p>–°–ø–æ—á–∞—Ç–∫—É –º–∏ –∑—Ä–æ–±–∏–ª–∏ –æ—á–µ–≤–∏–¥–Ω–µ - –ø–µ—Ä–µ–≤—ñ—Ä–∏–ª–∏ –∫–æ–¥ –ª–æ–∫–∞–ª—å–Ω–æ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏. –ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π—à–ª–∏, –≤—Å–µ –ø—Ä–∞—Ü—é–≤–∞–ª–æ –≤—ñ–¥–º—ñ–Ω–Ω–æ. –ù—ñ—è–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.</p>

        <p>–ü–æ—Ç—ñ–º –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–ª–∏ —á—É–¥–æ–≤–µ</p>

        <div class="language-bash highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
        </div><div class='code-line code-line-2'>
        </div><div class='code-line code-line-3'>&nbsp;&nbsp;~&gt;&nbsp;cap&nbsp;staging&nbsp;db:suck&nbsp;
        </div><div class='code-line code-line-4'>&nbsp;&nbsp;
        </div><div class='code-line code-line-5'>&nbsp;&nbsp;
        </div><div class='code-line code-line-6'>&nbsp;&nbsp;<span style="color: #6e7781">### –∑–≤–æ—Ä–æ—Ç–Ω—ñ–π –ø—Ä–æ—Ü–µ—Å - db:blow, –æ—Å–∫—ñ–ª—å–∫–∏ —Ä–æ–∑—Ä–æ–±–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤–µ—Å–µ–ª—ñ—à–æ—é...</span>
        </div><div class='code-line code-line-7'>
        </div><div class='code-line code-line-8'>
        </div></code></div>

        <p>—â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—ñ–¥–¥–∞–ª–µ–Ω—É –±–∞–∑—É –¥–∞–Ω–∏—Ö –µ—Ç–∞–ø—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, —Ç–∏–º —Å–∞–º–∏–º —Ä–µ–ø–ª—ñ–∫—É—é—á–∏ –∫–æ–¥,<br />
        –¥–∞–Ω—ñ —Ç–∞ <em>RAILS_ENV</em> —á–µ—Ä–µ–∑</p>

        <div class="language-bash highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
        </div><div class='code-line code-line-2'>&nbsp;&nbsp;~&gt;&nbsp;<span style="color: #0550ae">RAILS_ENV</span><span style="color: #0550ae">=</span>production&nbsp;<span style="color: #0550ae">RAILS_STAGE</span><span style="color: #0550ae">=</span>staging&nbsp;./bin/rails&nbsp;server
        </div><div class='code-line code-line-3'>
        </div></code></div>

        <p>–©–æ–¥–æ —Ü—å–æ–≥–æ: Dojo4 –∑–∞–ø—É—Å–∫–∞—î –≤—Å—ñ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –µ—Ç–∞–ø—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤ <em>RAILS_ENV=production</em> —Ç–∞ —Ä–æ–∑—Ä—ñ–∑–Ω—è—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ–Ω—à–æ—ó –∑–º—ñ–Ω–Ω–æ—ó —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (<em>RAILS_STAGE</em>) —Å–∞–º–µ —Ç–æ–º—É, —â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ —Ç–∞ –≤—Å—ñ –≤–∏—Ä–æ–±–Ω–∏—á—ñ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –≤ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—ñ/qa, –¥–µ —Ü–µ –º–æ–∂–ª–∏–≤–æ - –≤–∏–±—ñ—Ä–∫–æ–≤–æ –∑–∞—Ö–∏—â–∞—é—á–∏ –ª–∏—à–µ <em>–±–æ–∂–µ–≤—ñ–ª—å–Ω—ñ</em> –ø–æ–≤–µ–¥—ñ–Ω–∫–∏, —Ç–∞–∫—ñ —è–∫ –∑–Ω—è—Ç—Ç—è –∫–æ—à—Ç—ñ–≤ –∑ –∫—Ä–µ–¥–∏—Ç–Ω–∏—Ö –∫–∞—Ä—Ç–æ–∫, —á–µ—Ä–µ–∑ <em>RAILS_STAGE</em>.</p>

        <p>–¢–æ–º—É –±—É–¥—å—Ç–µ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ –ø—Ä–æ–±–ª–µ–º–∞ <em>–Ω–µ</em> –±—É–ª–∞ –≤ —Ç–æ–º—É, —â–æ –º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–ª–∏ <em>./config/environments/staging.rb</em> —ñ–Ω–∞–∫—à–µ, –Ω—ñ–∂ <em>./config/environments/production.rb</em>!</p>

        <p>–ê–ª–µ –≤—Å–µ –æ–¥–Ω–æ –º–∏ –Ω–µ –º–æ–≥–ª–∏ –≤—ñ–¥—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É. <em>#WTF</em>!?</p>

        <p>–ù–∞—Ä–µ—à—Ç—ñ, —è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É–≤–∞–≤ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –µ—Ç–∞–ø—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è <a href="https://twitter.com/search?f=realtime&amp;q=%23die%C3%BCberawesomesauce&amp;src=typd">#die√ºberawesomesauce</a> <a href="https://github.com/Mon-Ouie/pry-remote">pry-remote</a> —ñ –≤—ñ–¥—Ä–∞–∑—É –ø–æ—Ç—Ä–∞–ø–∏–≤ –≤ –∫–æ–¥, —â–æ –≤–∏–∫–ª–∏–∫–∞–≤ <em>BOOM</em> –Ω–∞ –≤—É–∑–ª—ñ –µ—Ç–∞–ø—É —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.</p>

        <p>–Ü –æ—Å—å –≤–æ–Ω–æ: –ø–æ—Ä—É—à—É–≤–∞–ª–æ—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω–µ –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. –ê–ª–µ –Ω—ñ—è–∫–∏—Ö<br />
        —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –Ω–µ –±—É–ª–æ –≤–∏–∑–Ω–∞—á–µ–Ω–æ –≤ –º–æ–¥–µ–ª—ñ –∞–±–æ –¥–µ-–Ω–µ–±—É–¥—å —â–µ. –•–º–º–º–º‚Ä¶</p>

        <p>–ü–µ—Ä–µ–≥–ª—è–¥–∞—é—á–∏ –∂—É—Ä–Ω–∞–ª–∏ git, —è –≤–∏—è–≤–∏–≤, —â–æ —Ä–∞–Ω—ñ—à–µ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–Ω–¥–µ–∫—Å <em>–±—É–≤</em><br />
        –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –º–æ–¥–µ–ª—ñ, —è–∫–∞ –≤–∏–∫–ª–∏–∫–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º—É. –í–∏—Ä—ñ—à–∏–≤—à–∏ —Ü–µ, —è —à–≤–∏–¥–∫–æ</p>

        <div class="language-bash highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
        </div><div class='code-line code-line-2'>&nbsp;&nbsp;~&gt;&nbsp;rake&nbsp;db:mongoid:remove_indexes
        </div><div class='code-line code-line-3'>
        </div></code></div>

        <p>–∞–ª–µ <em>–ü—Ä–æ–±–ª–µ–º–∞ –∑–∞–ª–∏—à–∏–ª–∞—Å—è.</em></p>

        <p>–û–∫. –ß–∞—Å —á–∏—Ç–∞–Ω–Ω—è –∫–æ–¥—É. –ß–µ—Ä–µ–∑ 3 —Ö–≤–∏–ª–∏–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∞ –±—É–ª–∞ –≤–∏—è–≤–ª–µ–Ω–∞. –£ Mongoid 4 –∑–∞–≤–¥–∞–Ω–Ω—è <em>remove_indexes</em> –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–∞–∫–∏–π –∫–æ–¥</p>

        <div class="language-ruby highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
        </div><div class='code-line code-line-2'>
        </div><div class='code-line code-line-3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781"># –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ —ñ–Ω–¥–µ–∫—Å—ñ–≤ –∑–∞ –º–æ–¥–µ–ª–ª—é, —è–∫—ñ —ñ—Å–Ω—É—é—Ç—å —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, –∞–ª–µ –Ω–µ</span>
        </div><div class='code-line code-line-4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781"># –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ –º–æ–¥–µ–ª—è—Ö.</span>
        </div><div class='code-line code-line-5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781">#</span>
        </div><div class='code-line code-line-6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781"># @example –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –Ω–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤.</span>
        </div><div class='code-line code-line-7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781">#   Mongoid::Tasks::Database.undefined_indexes</span>
        </div><div class='code-line code-line-8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781">#</span>
        </div><div class='code-line code-line-9'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #6e7781"># @return Hash{Class =&gt; Array(Hash)} –°–ø–∏—Å–æ–∫ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö —ñ–Ω–¥–µ–∫—Å—ñ–≤ –∑–∞ –º–æ–¥–µ–ª–ª—é.</span>
        </div><div class='code-line code-line-10'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #cf222e">def</span>&nbsp;<span style="color: #8250df">undefined_indexes</span><span style="color: #24292f;background-color: #f6f8fa">(</span><span style="color: #24292f;background-color: #f6f8fa">models</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #0550ae">::</span><span style="color: #953800">Mongoid</span><span style="color: #24292f;background-color: #f6f8fa">.</span><span style="color: #8250df">models</span><span style="color: #24292f;background-color: #f6f8fa">)</span>
        </div><div class='code-line code-line-11'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #24292f;background-color: #f6f8fa">undefined_by_model</span>&nbsp;<span style="color: #0550ae">=</span>&nbsp;<span style="color: #24292f;background-color: #f6f8fa">{}</span>
        </div><div class='code-line code-line-12'>
        </div></code></div>

        <p>ref: https://github.com/mongoid/mongoid/blob/master/lib/mongoid/tasks/database.rb#L40</p>

        <p>–∞–ª–µ –≤ Mongoid 3.x, —è–∫–∏–π –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –Ω–µ–º–∞—î —Ç–∞–∫–æ—ó –ª–æ–≥—ñ–∫–∏.</p>

        <p>ref: https://github.com/mongoid/mongoid/blob/3.1.0-stable/lib/rails/mongoid.rb</p>

        <p>–û—Ç–∂–µ, –æ—Å—å —É —â–æ: Mongoid 4 –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤—Å—ñ —ñ–Ω–¥–µ–∫—Å–∏, –Ω–∞–≤—ñ—Ç—å —Ç—ñ, —â–æ –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω—ñ –≤ –∫–æ–¥—ñ/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó, –±—É–¥—É—Ç—å –≤–∏–¥–∞–ª–µ–Ω—ñ, –∫–æ–ª–∏ —ñ–Ω–¥–µ–∫—Å–∏ –±—É–¥—É—Ç—å —Å–∫–∏–Ω—É—Ç—ñ, —Ç–æ–¥—ñ —è–∫ Mongoid 3 –∑–∞–ª–∏—à–∏—Ç—å —Ü—ñ —ñ–Ω–¥–µ–∫—Å–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö!</p>

        <p>–Ø –≤–∏—Ä—ñ—à–∏–≤ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ —Ü–µ–π –¥–æ—Å–≤—ñ–¥, —Ç–æ–º—É —â–æ:</p>

        <ul>
          <li>–ó–≤–æ—Ä–æ—Ç–Ω–∏–π –ø–æ–≥–ª—è–¥ 20/20, —è –≤–∂–µ —Å—Ç–∏–∫–∞–≤—Å—è –∑ —Ü–∏–º —Ä–∞–Ω—ñ—à–µ. /cc <a href="https://twitter.com/spikex">@spikex</a></li>
          <li>–¶–µ –ø—ñ–¥–∫—Ä–µ—Å–ª—é—î, —è–∫ —Ä–æ–∑—Ä–æ–±–∫–∞ —Ç–∞ dev-ops –ø–æ–≤–∏–Ω–Ω—ñ –∑–±—ñ–≥–∞—Ç–∏—Å—è –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º: –Ω–µ –≤—Å–µ –±–µ–∑—Å—Ç–∞–Ω–æ–≤–µ —Ç–∞ –∂–∏–≤–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó, —ñ –Ω–µ –≤–µ—Å—å —Å—Ç–∞–Ω –º–æ–∂–Ω–∞ —Ä–µ–ø–ª—ñ–∫—É–≤–∞—Ç–∏. –Ü–Ω–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–±–∏—Ç–∏ —Ü–µ –Ω–∞–∂–∏–≤–æ.</li>
          <li>–•—Ç–æ—Å—å –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –∑—ñ—Ç–∫–Ω–µ—Ç—å—Å—è –∑ —Ç–∞–∫–æ—é –∂ –ø—Ä–æ–±–ª–µ–º–æ—é —ñ, —Å–ø–æ–¥—ñ–≤–∞—é—Å—è, –∑–Ω–∞–π–¥–µ —Ü–µ–π –ø–æ—Å—Ç –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–∞–≥—ñ—ó google.</li>
          <li><a href="https://twitter.com/modetojoy">@modetojoy</a> –º–æ–∂–µ —Ä–æ–∑–≥–ª—è–Ω—É—Ç–∏ –º–æ—é –ø–æ—Ç–æ—á–Ω—É –¥—É–º–∫—É, —è–∫–∞ –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –º–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫—Ä–∞—â—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É Mongoid 4 –¥–æ 3.1.0.</li>
        </ul>

        <p>–Ü –ª—é–¥–∏ –¥–∏–≤—É—é—Ç—å—Å—è, —á–æ–º—É –º–∏, —ñ–Ω–∂–µ–Ω–µ—Ä–∏, –Ω–µ –º–æ–∂–µ–º–æ –æ—Ü—ñ–Ω–∏—Ç–∏ —á–∞—Å —Ç–∞ –∑—É—Å–∏–ª–ª—è, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ–≥–æ –±–∞–≥—É.</p>

        <p>P.S. –î–µ—è–∫—ñ –∑ –≤–∞—Å, —á–∏—Ç–∞—á—ñ, –º–æ–∂—É—Ç—å –∑–∞–ø–∏—Ç–∞—Ç–∏, —è–∫ —è –≤–∏—Ä—ñ—à–∏–≤ —Ü—é –ø—Ä–æ–±–ª–µ–º—É. –Ø –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∑–Ω–∞—á–∏–≤ —ñ–Ω–¥–µ–∫—Å –≤ –∫–æ–Ω—Å–æ–ª—ñ, —â–æ–± Mongoid –±—É–≤ –æ–±—ñ–∑–Ω–∞–Ω–∏–π –ø—Ä–æ –Ω—å–æ–≥–æ, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–≤ –º–µ—Ç–æ–¥–∏ —Ä—ñ–≤–Ω—è –º–æ–¥–µ–ª—ñ –¥–ª—è –π–æ–≥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è</p>

        <div class="language-bash highlighter-rouge"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>
        </div><div class='code-line code-line-2'><span style="color: #0550ae">[</span>48]&nbsp;pry<span style="color: #0550ae">(</span><span style="color: #6e7781">#&lt;My::SpacesConducer&gt;)&gt; model.save</span>
        </div><div class='code-line code-line-3'>Moped::Errors::OperationFailure:&nbsp;The&nbsp;operation:&nbsp;<span style="color: #6e7781">#&lt;Moped::Protocol::Command</span>
        </div><div class='code-line code-line-4'>&nbsp;&nbsp;@length<span style="color: #0550ae">=</span>89
        </div><div class='code-line code-line-5'>&nbsp;&nbsp;@request_id<span style="color: #0550ae">=</span>604
        </div><div class='code-line code-line-6'>&nbsp;&nbsp;@response_to<span style="color: #0550ae">=</span>0
        </div><div class='code-line code-line-7'>&nbsp;&nbsp;@op_code<span style="color: #0550ae">=</span>2004
        </div><div class='code-line code-line-8'>&nbsp;&nbsp;@flags<span style="color: #0550ae">=[]</span>
        </div><div class='code-line code-line-9'>&nbsp;&nbsp;@full_collection_name<span style="color: #0550ae">=</span><span style="color: #0a3069">"wall_space_finder-staging.</span><span style="color: #0550ae">$cmd</span><span style="color: #0a3069">"</span>
        </div><div class='code-line code-line-10'>&nbsp;&nbsp;@skip<span style="color: #0550ae">=</span>0
        </div><div class='code-line code-line-11'>&nbsp;&