```html
<p>Нещодавно, допомагаючи клієнту розмітити тему <a href="http://shopify.com" target="_blank">Shopify</a>, я зіткнувся з колючою проблемою: як злити вихід одного циклу з іншим безперебійним чином. Дозвольте мені пояснити.
</p>
<p>
  Більшість тем Shopify включають "шаблон колекції", де продукти перелічуються за допомогою циклу <a href="http://wiki.shopify.com/UsingLiquid" target="_blank">Liquid</a>. <a href="#figure1">Рис. 1</a> показує, як часто формуються такі списки.
</p>
<figure id="figure1" class="pal lightestgrayBg mvl" style="text-align: center;"><img src="assets/mockup.png" title="Мок" alt="Мок" /><figcaption class="mtm fontItalic">
    <strong><em>Рис. 1</em>
</strong>: Типовий список продуктів Shopify
  </figcaption>
</figure>
<p>
  Якщо ви не проти використання <code>TABLEs</code> для таких макетів, Liquid вас накриє своїм <code>TABLEROW</code> тегом (<a href="http://wiki.shopify.com/UsingLiquid#Tables">посилання</a>). Якщо вам подобаються сіткові системи, вам доведеться використовувати якийсь <a href="http://stackoverflow.com/questions/2245972/modulus-or-lack-thereof-in-rubys-liquid-templating-engine/8439160#8439160" target="_blank">обхідний трюк</a>, оскільки Liquid не має <code>each_slice()</code> енумератора або оператора <code>modulus</code>.
</p>
<p>
  Але якщо ви, як і я, вважаєте, що семантично відповідна розмітка для списку <strong>продуктів</strong> - це невпорядкований список (<code>UL</code>), ви зобов'язані працювати з потоком <code>LIs</code>.
</p>
<p>
  Як я згадував вище, цей дизайн вимагав, щоб список колекцій продуктів з'являвся в рядку зі списком продуктів, але не просто десь. Він повинен був бути третім елементом у першому рядку, як показано на <a href="#figure2">Рис. 2</a>.
</p>
<figure id="figure2" class="pal lightestgrayBg mvl" style="text-align: center;">
  <img src="assets/desired-layout.png" title="Бажаний макет" alt="Бажаний макет" />
  <figcaption class="mtm fontItalic" style="text-align: center;">
    <strong><em>Рис. 2</em>
</strong>: Цикл списку продуктів, який, нібито, переривається навігаційним списком
  </figcaption>
</figure>
<p>
  Я не хотів починати один цикл, зупиняти його, починати інший, зупиняти його, а потім знову починати перший з відповідним зсувом. Це здавалося занадто ручним. Знову ж таки, я хотів, щоб вихід був потоком <code>LIs</code>, як тут:
</p>
  <script src="https://gist.github.com/icegulch/8373741.js"></script>
<p>
  Тож у мене залишилося два варіанти для розмітки цього потоку <code>LIs</code>: плаваючі елементи та зняття плаваючих елементів або використання inline-block.
</p>
<p>
  Легко уявити, як можна досягти бажаного макету з використанням плаваючих елементів, плаваючих кожен <code>LI</code> ліворуч, окрім першого, який буде плавати праворуч. Але варіант з плаваючими елементами вимагає ретельної очистки - і <code>UL</code>, і кожен третій <code>LI</code> (починаючи з першого) повинні бути очищені, щоб уникнути проблеми, показаної на <a href="#figure3">Рис. 3</a>.
</p>
<figure id="figure3" class="pal lightestgrayBg mvl" style="text-align: center;">
  <img src="assets/float-issue.png" title="Проблема з плаваючими елементами" alt="Проблема з плаваючими елементами" />
  <figcaption class="mtm fontItalic" style="text-align: center;">
    <strong><em>Рис. 3</em>
</strong>: Коли перший LI в кожному "рядку" не очищений...
  </figcaption>
</figure>
<p>
  Тег <code>CYCLE</code> у Liquid (<a href="http://wiki.shopify.com/UsingLiquid#Cycle">посилання</a>) - це зручний спосіб зробити це, як і позиційні псевдоселектори CSS3 (<a href="http://reference.sitepoint.com/css/pseudoclass-nthchild" target="_blank">посилання</a>). Але коли потрібна підтримка IE7/IE8, циклізація є кращим варіантом.
</p>
<p>
  Тим не менш, цей будинок карт очищення здавався мені крихким, тож я вирішив застосувати раніше згадану техніку inline-block.
</p>
<script src="https://gist.github.com/icegulch/8373784.js"></script>
<p>
  Це привело мене майже до кінцевої мети, як показано на <strong>Рис. 4</strong>.
</p>
<figure id="figure4" class="pal lightestgrayBg mvl" style="text-align: center;">
  <img src="assets/initial-inline-block.png" title="Початковий Inline Block" alt="Початковий Inline Block" />
  <figcaption class="mtm fontItalic" style="text-align: center;">
    <strong><em>Рис. 4</em>
</strong>: Перший варіант макету inline-block
  </figcaption>
</figure>
<p>
  Хоча техніка inline-block звільнила мене від проблем з очищенням, мені все одно довелося зіткнутися з проблемою позиціонування дизайну: список навігації по продуктах мав бути вирівняний праворуч у першому рядку. Плавання його праворуч також не було рішенням, оскільки це піддало б наш макет тому ж ризику, показаному на <a href="#figure3">Рис. 3</a>.
</p>
<p>
  Тоді в мене з'явилася божевільна ідея: а що якщо я зміню напрямок мови <code>UL</code>, щоб список відображався справа наліво? Натхненний <a href="http://css-tricks.com/star-ratings/" target="_blank">недавньою статтею Кріса Койєра</a>, я вирішив спробувати. Ось що у мене вийшло:
</p>
<script src="https://gist.github.com/icegulch/8373820.js"></script>
<p>
  Як ви можете побачити, мені довелося змінити напрямок мови на контейнері <code>UL</code>, а потім скинути його на елементах всередині його <code>LIs</code> (з якоїсь причини, скидання напрямку мови на самих <code>LIs</code> не працювало в Opera). Мені також довелося встановити розмір шрифту на <code>UL</code> на нуль, щоб <a href="http://css-tricks.com/fighting-the-space-between-inline-block-elements/" target="_blank">уникнути цього</a>.
</p>
<p>
  Оскільки перелік продуктів у цьому магазині не вимагав конкретного порядку (алфавітний, ціна тощо), було прийнятно, щоб вихідний потік йшов справа наліво, як показано на <a href="#figure5">Рис. 5</a>.
</p>
<figure id="figure5" class="pal lightestgrayBg mvl" style="text-align: center;">
  <img src="assets/inline-block-final.png" title="Кінцевий Inline Block" alt="Кінцевий Inline Block" />
  <figcaption class="mtm fontItalic" style="text-align: center;">
    <strong><em>Рис. 5</em>
</strong>: зміна напрямку мови в дії
  </figcaption>
</figure>
<p>
  Хоча є плюси та мінуси як у плаваючих, так і в inline-блочних макетах, я вважаю, що останній був трохи більш елегантним у цій ситуації. Чи стикалися хто-небудь з вас з цим? Чи вас <a href="http://youtu.be/ATKQLgi5Z2Y" target="_blank">переслідують</a> списки?
</p>
```