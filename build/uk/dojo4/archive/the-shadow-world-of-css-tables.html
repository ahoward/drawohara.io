```html
<html color-mode="user" lang="uk">
  <head>
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>&quot;Тіньовий світ CSS таблиць&quot;</title>

<meta property="og:title" content="&quot;Тіньовий світ CSS таблиць&quot;"/>
<meta property="og:description" content="продовжуйте рух." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

  <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"the-shadow-world-of-css-tables"}">
    <meta property="site:path_info" content=""/the-shadow-world-of-css-tables"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
<hr>
    </header>

    <main>
      <p>
  Майбутнє веб-макетування виглядає <a href="http://dev.w3.org/csswg/css-flexbox/" target="_blank">обіцяючим</a>, особливо для досвідчених веб-розробників, чиї глибоко вкладені таблиці все ще <a href="http://www.isse.ucar.edu/water_climate/index.html" target="_blank">бродять інтернетом</a>. Але доти, поки flexbox не буде готовий до виходу на провідні позиції, CSS-плаваючі елементи - основний механізм макетування для CSS-фреймворків, як Twitter Bootstrap та Zurb Foundation - доведеться використовувати.
</p>

<p>
  Чи доведеться?
</p>

<img src='/ro/dojo4/the-shadow-world-of-css-tables/assets/display-table.gif' />

<p>
  Деякі з сьогоднішніх блискучих молодих веб-розробників можуть не знати, що після повалення макетів на основі TABLE утворився вакуум. <a href="http://www.csszengarden.com/" target="_blank">CSS Zen Garden</a>, який демонстрував обіцянки CSS-макетів і завдав смертельного удару макетам на основі TABLE, не обов'язково коронував наступника.
</p>

<p>
  Була техніка Святого Грааля, Фальшиве абсолютне позиціонування та багато інших частин <a href="http://www.positioniseverything.net/" target="_blank">PIE</a>. Це був час експериментів, дух якого трохи пригас у світлі всіх чудових фреймворків, що існують (хоча деякі люди все ще <a href="https://github.com/necolas/suit-grid-layouts" target="_blank">експериментують</a> час від часу).
</p>

<p>
  Одним із методів, який не зміг набути популярності, були CSS-макети таблиць. Декілька факторів зіграли проти нього:
</p>

<ol>
  <li>
    назва книги, яка пропагувала цей метод, <a href="http://www.amazon.co.uk/dp/0980455227" target="_blank">Все, що ви знаєте про CSS, неправильно</a>, справді, була трохи відштовхуючою
  </li>
  <li>
    сама назва методу викликала духи минулого (макети TABLE!)
  </li>
  <li>
    він був надзвичайно новаторським - доти, поки два важливі браузери того часу його не підтримували (IE6/IE7)
  </li>
</ol>

<p>
  Але недавно деякі люди знову повернулися до цього методу, оскільки в одному або двох рядках коду він дозволяє позиціонування, яке інші методи не можуть зробити без хаків або JS. Більше того, він пропонує дрібні хитрощі порядку джерела, які є корисними в адаптивних контекстах.
</p>

<h2 id="vertical-centering">
  Вертикальне центрування
</h2>

<p>
  Фронтенд-розробники знайомі з проблемою вертикального вирівнювання елементів у рядку, коли висоти невідомі. Звісно, це зазвичай перша проблема, яку потрібно вирішити в будь-якому сайті <code>HEADER</code> (логотип і навігація).
</p>

<p>
  <code>TABLE</code> робили вертикальне центрування легким за допомогою атрибута <code>VALIGN</code>. У макетах на основі плаваючих елементів речі є <a href="http://coding.smashingmagazine.com/2013/08/09/absolute-horizontal-vertical-centering-css/" target="_blank">набагато складнішими</a>, потрібно багато хитрощів (позиціонування, відступи або висота рядків зазвичай).
</p>

<p>
  Тут на допомогу приходять CSS-таблиці, які роблять вертикальне центрування тривіальним за допомогою властивості <code>vertical-align: middle</code>. Для ілюстрації візьміть наступний розмітку:
</p>

<div class="highlight">
  <pre>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row-table"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
        foo
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
        bar
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
        baz
      <span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"cell"</span><span class="nt">&gt;</span>
        foo<span class="nt">&lt;br&gt;</span>bar<span class="nt">&lt;br&gt;</span>baz<span class="nt">&lt;br&gt;</span>qux
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  </pre>
</div>

<p>
  Поєднайте його з наступним CSS:
</p>

<div class="highlight">
  <pre>
    <span class="nc">.row-table</span> {
      <span class="nl">display</span>: <span class="m">table</span>;
      <span class="nl">table-layout</span>: <span class="m">fixed</span>;
      <span class="nl">width</span>: <span class="m">100%</span>;
    }

    <span class="nc">.cell</span> {
      <span class="nl">display</span>: <span class="m">table-cell</span>;
      <span class="nl">width</span>: <span class="m">25%</span>;
      <span class="nl">vertical-align</span>: <span class="m">middle</span>;
    }
  </pre>
</div>

<p>
  І ви отримаєте наступний вертикально вирівняний макет, незважаючи на вищий вміст останнього стовпця:
</p>

<div class="row-table" style="margin-bottom: 25px;">

    <div class="cell">
      foo
    </div>

    <div class="cell">
      bar
    </div>

    <div class="cell">
      baz
    </div>

    <div class="cell">
      foo<br>bar<br>baz<br>qux
    </div>

</div>

<p>
  Додаткова перевага цього методу полягає в тому, що більшість бекенд-розробників <em>просто розуміють</em> <code>TABLE</code> (дивлюсь на тебе, <a href="/team/ara-t-howard" target="_blank">Ара</a>). Тож, якщо ви пишете стилі для інших людей, ви можете створити OOCSS-сіткову систему з інтуїтивно зрозумілими класами та підкласами (".col", ".col-valign-middle", ".col-valign-top" тощо), щоб полегшити їхнє життя.
</p>

<h2 id="equal-height-columns">
  Стовпці однакової висоти
</h2>

<p>
  З тією самою розміткою, як вище, дуже легко створити стовпці однакової висоти; ми просто додамо деякі фонові кольори для демонстрації:
</p>

<div class="row-table" style="margin-bottom: 25px;">

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#F05F3B">
      foo
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#E7E5D7">
      bar
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#777777">
      baz
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#55ACAA">
      foo<br>bar<br>baz<br>qux
    </div>

</div>

<p>
  Звичайно, існують JS-бібліотеки, які роблять плаваючі стовпці таким чином, але в адаптивному контексті доводиться робити багато маніпуляцій із розміром вікна, щоб запобігти поширенню (JS-обчислені) висоти стовпців на менші вікна.
</p>

<p>
  Натомість, простим медіа-запитом, я можу змусити CSS-таблиці перетворюватися на блоки (<code>display: block</code>) або табличні групи (<code>display: table-header-group</code>) залежно від того, що відповідає конкретній ситуації.
</p>

<h2 id="source-ordering-tricks">
  Хитрощі порядку джерела
</h2>

<p>
  Властивості CSS-таблиць можуть бути корисними, коли ви хочете перетасувати картки, які ви отримали від порядку джерела HTML. У макетах на основі плаваючих елементів ви можете штовхати та тягнути елементи у більших вікнах перегляду, але елементи будуть складатися так само, як порядок джерела HTML на менших.
</p>

<p>
  CSS-таблиці дозволяють значно перевпорядкувати речі, особливо на менших вікнах перегляду. Візьміть, наприклад, наш попередній приклад:
</p>

<div class="row-table" style="margin-bottom: 25px;">

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#F05F3B;">
      0
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#E7E5D7;">
      1
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#777777;">
      2
    </div>

    <div class="cell" style="color:rgba(0,0,0, 0.6);background-color:#55ACAA;">
      3
    </div>

</div>

<p>
  Змінивши налаштування відображення на одну з властивостей табличних груп (<code>display: table-caption</code>, <code>display: table-header-group</code>, <code>display: table-row-group</code> або <code>display: table-footer-group</code>), ми можемо складати елементи зовсім інакше, ніж вони з'являються в рядковому макеті на більших вікнах перегляду (ніж порядок джерела).
</p>

<p>
  Наприклад, якщо ми хотіли б, щоб стовпці вище складалися в такому порядку (2,3,1,0), ми б застосували наступні властивості відображення до клітинок (зліва направо): <code>display: table-footer-group</code> (0), <code>display: table-row-group</code> (1), <code>display: table-caption</code> (2), <code>display: table-header-group</code> (3). І клітинки б тоді складалися таким чином:
</p>

<div class="row-table" style="margin-bottom: 25px;">

    <div class="cell" style="width:100%;display:table-footer-group;color:rgba(0,0,0, 0.6);background-color:#F05F3B;">
      0
    </div>

    <div class="cell" style="width:100%;display:table-row-group;color:rgba(0,0,0, 0.6);background-color:#E7E5D7;">
      1
    </div>

    <div class="cell" style="width:100%;display:table-caption;color:rgba(0,0,0, 0.6);background-color:#777777;">
      2
    </div>

    <div class="cell" style="width:100%;display:table-header-group;color:rgba(0,0,0, 0.6);background-color:#55ACAA;">
      3
    </div>

</div>

<p>
  Примітка: Мені довелося додати правило <code>width: 100%</code> до елемента <code>display: table-caption</code>, тому що інакше він не заповнив би доступний простір.
</p>

<p>
  Навіщо вам це потрібно?! Ну, ви можете робити одну з тих хитрих <a href="http://bradfrostweb.com/blog/web/responsive-nav-patterns/#footer-anchor" target="_blank">хітрощів навігації нижнього колонтитула</a> для маленьких вікон перегляду і хочете, щоб вся навігація, яка знаходиться в вашому <code>HEADER</code>, миттєво опускалася вниз сторінки.
</p>

<p>
  Або, можливо, у вас є деякий стовпець у рядку, який повинен відображатися першим на маленьких вікнах перегляду, але відображається посередині рядка на більших вікнах перегляду.
</p>

<p>
  Можливості <strong>НЕ</strong> безмежні або настільки ж потужні, як будуть у flexbox, але це щось, що можна затиснути в задню частину вашої коробки з інструментами.
</p>

<h2 id="notes">
  Нотатки
</h2>

<p>
  CSS-таблиці підтримувалися в Internet Explorer починаючи з IE8. Інакше підтримка <a href="http://caniuse.com/css-table" target="_blank">досить робастна</a>.
</p>

<p>
  Хоча <a href="http://www.amazon.co.uk/dp/0980455227" target="_blank">Все, що ви знаєте про CSS, неправильно</a> може звучати як лячна назва книги, насправді це хороше читання - і деякі коментарі на Amazon є забавними.
</p>

<p>
  Якщо ви розглядаєте можливість розміщення чогось на кшталт прокручуваної каруселі всередині клітинки CSS-таблиці, вивчіть властивість <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout" target="_blank">table-layout</a>, зокрема значення "fixed". Це запобігає зростанню клітинки для міщення її вмісту і допомагає зменшити час рендерингу, тому що браузерам не доведеться обчислювати всі можливі ширини всіх можливих вмістів ваших клітинок.
</p>

<p>
  Я зіткнувся з дивним багом у Firefox щодо позиціонування елементів всередині клітинок HTML та CSS-таблиць. "Шлях найменшої розмітки" рішення, виявлений поточним співробітником Mozilla, полягає в тому, щоб надати як табличному рядку, так і клітинці <a href="http://davidwalsh.name/table-cell-position-absolute" target="_blank">висоту 100%</a>. Ще один добре документований обхідний шлях - використовувати елемент всередині клітинки для встановлення контексту позиціонування.
</p>

<p>
  Іан Йейтс написав чудову <a href="http://webdesign.tutsplus.com/tutorials/the-role-of-table-layouts-in-responsive-web-design--webdesign-10294" target="_blank">статтю Tuts+</a> про використання CSS-таблиць для рекламних блоків, які зазвичай представляють фіксовані компоненти у рідинному макеті.
</p>

<p>
  Бен Фрейн провів деякі цікаві <a href="http://benfrain.com/css-performance-test-flexbox-v-css-table-fight/" target="_blank">тести продуктивності</a>, порівнюючи flexbox з CSS-таблицями. Його застереження щодо розміру вибірки та відсутності справжніх специфікацій для flexbox слід враховувати.
</p>

<p>
  Роджер Йоганссон <a href="http://www.456bereastreet.com/archive/201110/using_displaytable_has_semantic_effects_in_some_screen_readers/" target="_blank">відмітив у жовтні 2011