{
  "data": {
    "dojo4/know-thy-forms": {
      "published_at": "2013-06-17 00:00:00 UTC",
      "title": "Know Thy Forms",
      "author": "ara@dojo4.com",
      "body": "<div class=\"ro markdown\">\n  <p>i stood up a little quiz about html forms today.</p>\n\n<p>ref: <a href=\"https://gist.github.com/ahoward/98591ebc9113bea1cf02\" target=\"_blank\">https://gist.github.com/ahoward/98591ebc9113bea1cf02</a></p>\n\n<div class=\"language-html highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style=\"color: #6e7781\">&lt;!--</span>\n</div><div class='code-line code-line-3'>\n</div><div class='code-line code-line-4'><span style=\"color: #6e7781\">    fork this. do not use the internet. take &lt; 10 minutes to find at least 10</span>\n</div><div class='code-line code-line-5'><span style=\"color: #6e7781\">    distinct errors on this form. submit your answer in the comments field of</span>\n</div><div class='code-line code-line-6'><span style=\"color: #6e7781\">    your fork and email me (ara[at]dojo4.com) the url.</span>\n</div><div class='code-line code-line-7'>\n</div><div class='code-line code-line-8'><span style=\"color: #6e7781\">  --&gt;</span>\n</div><div class='code-line code-line-9'>\n</div><div class='code-line code-line-10'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;form</span>&nbsp;<span style=\"color: #116329\">method=</span><span style=\"color: #0a3069\">'DELETE'</span>&nbsp;<span style=\"color: #116329\">ACTION=</span><span style=\"color: #0a3069\">'./'</span>&nbsp;<span style=\"color: #116329\">enctype=</span><span style=\"color: #0a3069\">\"multipart/file-upload\"</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-11'>\n</div><div class='code-line code-line-12'>&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-13'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;fieldset&gt;</span>\n</div><div class='code-line code-line-14'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;legend&gt;</span>&nbsp;tags&nbsp;<span style=\"color: #116329\">&lt;/legend&gt;</span>\n</div><div class='code-line code-line-15'>\n</div><div class='code-line code-line-16'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">'text'</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'tags'</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">/&gt;</span>\n</div><div class='code-line code-line-17'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">'text'</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'tags'</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'bar'</span><span style=\"color: #116329\">/&gt;</span>\n</div><div class='code-line code-line-18'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/fieldset&gt;</span>\n</div><div class='code-line code-line-19'>\n</div><div class='code-line code-line-20'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;label</span>&nbsp;<span style=\"color: #116329\">for=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>Foo:&nbsp;<span style=\"color: #116329\">&lt;/label&gt;</span>&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-21'>\n</div><div class='code-line code-line-22'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;label&gt;</span>\n</div><div class='code-line code-line-23'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bar:&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'bar'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-24'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/label&gt;</span>\n</div><div class='code-line code-line-25'>\n</div><div class='code-line code-line-26'>\n</div><div class='code-line code-line-27'>\n</div><div class='code-line code-line-28'>\n</div><div class='code-line code-line-29'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'email'</span>&nbsp;<span style=\"color: #116329\">readonly</span><span style=\"color: #116329\">/&gt;</span>\n</div><div class='code-line code-line-30'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'password'</span>&nbsp;<span style=\"color: #116329\">disabled=</span><span style=\"color: #0a3069\">disabled/</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-31'>\n</div><div class='code-line code-line-32'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">'file'</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'file'</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'.bashrc'</span><span style=\"color: #116329\">/&gt;</span>\n</div><div class='code-line code-line-33'>\n</div><div class='code-line code-line-34'>\n</div><div class='code-line code-line-35'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;fieldset&gt;</span>\n</div><div class='code-line code-line-36'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;legend&gt;</span>Sex<span style=\"color: #116329\">&lt;/legend&gt;</span>\n</div><div class='code-line code-line-37'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">\"radio\"</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">\"sex\"</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-38'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'male'</span><span style=\"color: #116329\">&gt;</span>Male<span style=\"color: #116329\">&lt;/option&gt;</span>\n</div><div class='code-line code-line-39'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'female'</span><span style=\"color: #116329\">/&gt;</span>\n</div><div class='code-line code-line-40'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/input&gt;</span>\n</div><div class='code-line code-line-41'>\n</div><div class='code-line code-line-42'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;fieldset&gt;</span>\n</div><div class='code-line code-line-43'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;legend&gt;</span>Transportation<span style=\"color: #116329\">&lt;/legend&gt;</span>\n</div><div class='code-line code-line-44'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">\"checkbox\"</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">\"vehicle\"</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">\"Bike\"</span><span style=\"color: #116329\">&gt;</span>I&nbsp;have&nbsp;a&nbsp;bike<span style=\"color: #116329\">&lt;br&gt;</span>\n</div><div class='code-line code-line-45'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">\"checkbox\"</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">\"vehicle\"</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">\"Car\"</span><span style=\"color: #116329\">&gt;</span>I&nbsp;have&nbsp;a&nbsp;car&nbsp;\n</div><div class='code-line code-line-46'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/fieldset&gt;</span>\n</div><div class='code-line code-line-47'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/fieldset&gt;</span>\n</div><div class='code-line code-line-48'>\n</div><div class='code-line code-line-49'>\n</div><div class='code-line code-line-50'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;select</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'web-develop-skilz'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-51'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'A'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-52'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'B'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-53'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'C'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-54'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'D'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-55'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;option</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'F'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-56'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/select&gt;</span>\n</div><div class='code-line code-line-57'>&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-58'>\n</div><div class='code-line code-line-59'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;hr&gt;</span>\n</div><div class='code-line code-line-60'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #116329\">&lt;button</span>&nbsp;<span style=\"color: #116329\">type=</span><span style=\"color: #0a3069\">'submit'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-61'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;/form&gt;</span>\n</div><div class='code-line code-line-62'>\n</div></code></div>\n\n<p>the goal of having people skim this completely broken html form was just to\nsee people’s line of thinking with this: the backbone of html interfaces</p>\n\n<p>following are some sample answers, grouped roughly by category, and commentary on each of them</p>\n\n<hr />\n<h3 id=\"fubar-doctype\">fubar doctype</h3>\n<hr />\n\n<ul>\n  <li>No doctype. It makes it difficult to figure out what flavor of HTML it is, which should lead to interesting responses…</li>\n  <li>Mixes xhtml style empty tags with HTML tags.</li>\n</ul>\n\n<p>for sure most people missed that many errors depended on the doctype\ndeclaration.  what style of tags you may use depends entirely on the doctype.</p>\n\n<hr />\n<h3 id=\"methoddelete\">method=delete</h3>\n<hr />\n\n<ul>\n  <li>line 1: DELETE is not an action supported in HTML forms:</li>\n  <li>method=delete isn’t directly supported in most/any? browsers.o</li>\n  <li>forms don’t support delete in older browsers</li>\n  <li>Method delete</li>\n  <li>form method=’DELETE’ – that’s not allowed</li>\n</ul>\n\n<p>although we think about http verbs with client apis, including javascript.\nfor a majority of browsers you get GET and POST.   this is important if you’ve\nbeen considering an xhtml based api.</p>\n\n<hr />\n<h3 id=\"enctypebunk\">enctype=bunk</h3>\n<hr />\n\n<ul>\n  <li>enctype=”multipart/form-data” not enctype=”multipart/file-upload”</li>\n  <li>enc-type=”multipart/file-upload makes no sense if our intention is to DELETE</li>\n</ul>\n\n<p>enctype bugs always waste a day.  get it wrong and you’ll waste the day\nposting the name of your file as a string, instead of the actual encoded file\ncontents.  also important to note is that the enctype merely dictates how the\nform is encoded and is fully orthogonal to the http verb used.</p>\n\n<hr />\n<h3 id=\"inputfoo--inputfoo\">input=foo &amp;&amp; input=foo</h3>\n<hr />\n\n<ul>\n  <li>text input tags in the first fieldset have the name</li>\n  <li>duplicate “” tags. Or two tags with the same name again</li>\n  <li>2 text fields named “tags” only the last one will be used.</li>\n  <li>Two inputs with same ‘tags’ name. Second one would overwrite value of 1st.</li>\n  <li>Two inputs with name ‘foo’ (not self closed)</li>\n  <li>text inputs with the same name would override re: inputs w/ name tags</li>\n  <li>duplicate assignments to input name=’tags’</li>\n  <li>duplicate assignments to input name=’vehicle’</li>\n</ul>\n\n<p>lot’s of misperceptions on this one.  it is <em>totally legit</em> to post the same\nparameter &gt; 1 times in a form.  the spec supports it and even ancient cgi\nsupport the notion of posting multiple values under the same key.  it is\nmerely convention that many controllers dump these into a hash where ‘last in\nwins’</p>\n\n<p>you can prove this easily to yourself.  post this from a form</p>\n\n<div class=\"language-html highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'answer'</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'40'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'answer'</span>&nbsp;<span style=\"color: #116329\">value=</span><span style=\"color: #0a3069\">'2'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-5'>&nbsp;&nbsp;\n</div></code></div>\n\n<p>and you’ll see the following in the browser console</p>\n\n<p>&lt;img\nstyle =’max-height:420px;’ src=’<a href=\"http://cl.ly/image/3I2Q2v0D1B1G/Screen%20Shot%202013-06-17%20at%204.09.23%20PM.png’\" target=\"_blank\">http://cl.ly/image/3I2Q2v0D1B1G/Screen%20Shot%202013-06-17%20at%204.09.23%20PM.png’</a></p>\n<blockquote>\n\n</blockquote>\n\n<p>if you handle the form post like so</p>\n\n<div class=\"language-ruby highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">form</span>\n</div><div class='code-line code-line-3'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">return</span>&nbsp;<span style=\"color: #cf222e\">if</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">request</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">get?</span>\n</div><div class='code-line code-line-4'>&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-5'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">parsed</span>&nbsp;<span style=\"color: #0550ae\">=</span>&nbsp;<span style=\"color: #953800\">Parser</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">new</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">env</span><span style=\"color: #24292f;background-color: #f6f8fa\">).</span><span style=\"color: #8250df\">parse</span>\n</div><div class='code-line code-line-6'>&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-7'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">render</span>&nbsp;<span style=\"color: #0a3069\">:json</span>&nbsp;<span style=\"color: #0550ae\">=&gt;</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">parsed</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">as_json</span><span style=\"color: #24292f;background-color: #f6f8fa\">,</span>&nbsp;<span style=\"color: #0a3069\">:layout</span>&nbsp;<span style=\"color: #0550ae\">=&gt;</span>&nbsp;<span style=\"color: #cf222e\">true</span>\n</div><div class='code-line code-line-8'>&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-9'>\n</div><div class='code-line code-line-10'>\n</div><div class='code-line code-line-11'><span style=\"color: #6e7781\"># hack the rack parser to show that http DOES post multiple values</span>\n</div><div class='code-line code-line-12'><span style=\"color: #6e7781\"># and that, if we want, we could accumulate them</span>\n</div><div class='code-line code-line-13'><span style=\"color: #6e7781\">#</span>\n</div><div class='code-line code-line-14'>&nbsp;&nbsp;<span style=\"color: #cf222e\">class</span>&nbsp;<span style=\"color: #953800\">Parser</span>&nbsp;<span style=\"color: #0550ae\">&lt;</span>&nbsp;<span style=\"color: #953800\">Rack</span><span style=\"color: #0550ae\">::</span><span style=\"color: #953800\">Multipart</span><span style=\"color: #0550ae\">::</span><span style=\"color: #953800\">Parser</span>\n</div><div class='code-line code-line-15'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">setup_parse</span>\n</div><div class='code-line code-line-16'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">super</span>\n</div><div class='code-line code-line-17'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">ensure</span>\n</div><div class='code-line code-line-18'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #0550ae\">@params</span>&nbsp;<span style=\"color: #0550ae\">=</span>&nbsp;<span style=\"color: #953800\">KeyList</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">new</span>\n</div><div class='code-line code-line-19'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-20'>\n</div><div class='code-line code-line-21'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">class</span>&nbsp;<span style=\"color: #953800\">KeyList</span>\n</div><div class='code-line code-line-22'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">initialize</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #0550ae\">*</span><span style=\"color: #24292f;background-color: #f6f8fa\">args</span><span style=\"color: #24292f;background-color: #f6f8fa\">,</span>&nbsp;<span style=\"color: #0550ae\">&amp;</span><span style=\"color: #24292f;background-color: #f6f8fa\">block</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-23'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #0550ae\">@params</span>&nbsp;<span style=\"color: #0550ae\">=</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">{}</span>\n</div><div class='code-line code-line-24'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-25'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-26'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">[]</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-27'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #0550ae\">@params</span><span style=\"color: #24292f;background-color: #f6f8fa\">[</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">]</span>\n</div><div class='code-line code-line-28'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-29'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-30'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">[]=</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">,</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">value</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-31'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #0550ae\">@params</span><span style=\"color: #24292f;background-color: #f6f8fa\">[</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">]</span>&nbsp;<span style=\"color: #0550ae\">||=</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">[]).</span><span style=\"color: #8250df\">push</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">value</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-32'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-33'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-34'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">key?</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-35'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #0550ae\">@params</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">key?</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #24292f;background-color: #f6f8fa\">key</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-36'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-37'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n</div><div class='code-line code-line-38'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">def</span>&nbsp;<span style=\"color: #8250df\">to_params_hash</span><span style=\"color: #24292f;background-color: #f6f8fa\">()</span>\n</div><div class='code-line code-line-39'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #953800\">self</span>\n</div><div class='code-line code-line-40'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-41'>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-42'>&nbsp;&nbsp;<span style=\"color: #cf222e\">end</span>\n</div><div class='code-line code-line-43'>\n</div><div class='code-line code-line-44'>\n</div></code></div>\n\n<p>then you will get a response that looks like</p>\n\n<div class=\"language-javascript highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>\n</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">{</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #0a3069\">params</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #24292f;background-color: #f6f8fa\">:{</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #0a3069\">answer</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #24292f;background-color: #f6f8fa\">:[</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #0a3069\">40</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #24292f;background-color: #f6f8fa\">,</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #0a3069\">2</span><span style=\"color: #0a3069\">\"</span><span style=\"color: #24292f;background-color: #f6f8fa\">]}}</span>\n</div><div class='code-line code-line-4'>\n</div><div class='code-line code-line-5'>\n</div><div class='code-line code-line-6'>\n</div></code></div>\n\n<h4 id=\"tldr\">TL:DR;</h4>\n\n<p>your web stack may drop multiple values on the floor by loading a hash,\nbut ruby’s cgi.rb library, and http generally does <em>not</em>.  this applies to\ninputs, checkboxen, etc - anything with name can pass multiple values.</p>\n\n<p>in particular ruby’s cgi.rb does <em>not</em> limit posting multiple values under a key</p>\n\n<p>while rails <em>does</em></p>\n\n<hr />\n<h3 id=\"labels-are-blargh\">labels are blargh</h3>\n<hr />\n\n<ul>\n  <li>No for on the ‘Bar:’ label.</li>\n  <li>unbound label: <label>Bar:…</label> (label for what?)</li>\n</ul>\n\n<p>labels without a for are <em>totally legit</em>.  when you wrap an input with a label the ‘for’ is implied as being the contained input. these are equivalent</p>\n\n<div class=\"language-html highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'><span style=\"color: #116329\">&lt;label</span>&nbsp;<span style=\"color: #116329\">for=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>Foo<span style=\"color: #116329\">&lt;/label&gt;</span>&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-3'>\n</div><div class='code-line code-line-4'><span style=\"color: #116329\">&lt;label</span>&nbsp;<span style=\"color: #116329\">for=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;</span>Foo&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">name=</span><span style=\"color: #0a3069\">'foo'</span><span style=\"color: #116329\">&gt;&lt;/label&gt;</span>\n</div><div class='code-line code-line-5'>\n</div><div class='code-line code-line-6'>\n</div></code></div>\n\n<p>with the former being <em>much</em> simpler to deal with in js ( $label.find(‘input’) )</p>\n\n<div class=\"language-javascript highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">$label</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">find</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #0a3069\">'</span><span style=\"color: #0a3069\">input</span><span style=\"color: #0a3069\">'</span><span style=\"color: #24292f;background-color: #f6f8fa\">)</span>\n</div><div class='code-line code-line-3'>&nbsp;\n</div><div class='code-line code-line-4'>\n</div></code></div>\n\n<p>vs.</p>\n\n<div class=\"language-javascript highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>&nbsp;\n</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style=\"color: #cf222e\">var</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">name</span>&nbsp;<span style=\"color: #0550ae\">=</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">$label</span><span style=\"color: #24292f;background-color: #f6f8fa\">.</span><span style=\"color: #8250df\">attr</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #0a3069\">'</span><span style=\"color: #0a3069\">for</span><span style=\"color: #0a3069\">'</span><span style=\"color: #24292f;background-color: #f6f8fa\">);</span>\n</div><div class='code-line code-line-3'>&nbsp;&nbsp;\n</div><div class='code-line code-line-4'>&nbsp;&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">$input</span>&nbsp;<span style=\"color: #0550ae\">=</span>&nbsp;<span style=\"color: #8250df\">$</span><span style=\"color: #24292f;background-color: #f6f8fa\">(</span><span style=\"color: #0a3069\">'</span><span style=\"color: #0a3069\">name[</span><span style=\"color: #0a3069\">'</span>&nbsp;<span style=\"color: #0550ae\">+</span>&nbsp;<span style=\"color: #24292f;background-color: #f6f8fa\">name</span>&nbsp;<span style=\"color: #0a3069\">'</span><span style=\"color: #0a3069\">]</span><span style=\"color: #0a3069\">'</span><span style=\"color: #24292f;background-color: #f6f8fa\">);</span>\n</div><div class='code-line code-line-5'>&nbsp;\n</div><div class='code-line code-line-6'>\n</div></code></div>\n\n<hr />\n<h3 id=\"readonly-and-disabled-are-the-hardz\">readonly and disabled are the hardz</h3>\n<hr />\n\n<ul>\n  <li>readonly input with no value is pointless</li>\n  <li>disabled should have quotes around it (also a bad mix of single and double quotes throughout)</li>\n  <li>missing quotes around disabled attribute in improper password input declaration</li>\n  <li>disabled=disabled should be disabled</li>\n  <li>missing quotes around disabled attribute</li>\n</ul>\n\n<p>readonly and disabled are both <em>boolean</em> attributes and, as such, have both\nquoted/non-quoted and valued/non-valued permutations</p>\n\n<p>all these are fine</p>\n\n<div class=\"language-html highlighter-rouge\"><code class='code' style='white-space:pre;'><div class='code-line code-line-1'>\n</div><div class='code-line code-line-2'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">readonly</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-3'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">readonly=</span><span style=\"color: #0a3069\">readonly</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-4'>&nbsp;&nbsp;<span style=\"color: #116329\">&lt;input</span>&nbsp;<span style=\"color: #116329\">readonly=</span><span style=\"color: #0a3069\">\"readonly\"</span><span style=\"color: #116329\">&gt;</span>\n</div><div class='code-line code-line-5'>\n</div><div class='code-line code-line-6'>\n</div></code></div>\n\n<p>although being consistent and using quotes is more widely handled in text editors</p>\n\n<p>refs:</p>\n\n<ul>\n  <li><a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#the-readonly-attribute\" target=\"_blank\">http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#the-readonly-attribute</a></li>\n  <li><a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#boolean-attribute\" target=\"_blank\">http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#boolean-attribute</a></li>\n</ul>\n\n<hr />\n<h3 id=\"formaction\">form[action]</h3>\n<hr />\n\n<ul>\n  <li>action=”./” seems like bad practice to me</li>\n  <li>form action is invalid as a unix filepath descriptor – to submit to the current url remove the action entirely as that is the default</li>\n</ul>\n\n<p>relative actions are not only totally legit, but useful.  consider a login form\nused both for general users under /login that’s also used under /admin/login:\nin this case it may be quite useful for a form to post back relative to it’s\ncontroller</p>\n\n<hr />\n<h3 id=\"filevalue\">file[value=]</h3>\n<hr />\n\n<ul>\n  <li>file upload can’t have a value attribute (bad security)</li>\n  <li>file inputs don’t take default values – user must select</li>\n  <li>it automatically selects your ~/.bashrc file for upload</li>\n</ul>\n\n<p>file inputs cannot have deafult values, and must be posted via form with the proper enctype</p>\n\n<hr />\n<h3 id=\"inputtype\">input[type=]</h3>\n<hr />\n\n<ul>\n  <li>improper password input declaration</li>\n  <li>No type on the password field (nor on email field, but less important there)</li>\n  <li>password input should be of type password</li>\n  <li>should be input type=’email’ name=’email’</li>\n</ul>\n\n<p>yup, gotta have the correct type on those inputs to mask passwords, pop up\nemail keyboard, all sorts of goodies.  html5 introduces many new types.  now\n‘em!</p>\n\n<hr />\n<h3 id=\"radioselectoptionscheckboxes-are-teh-hardz\">radio/select/options/checkboxes are teh hardz</h3>\n<hr />\n\n<ul>\n  <li>No text for female option, nor radio button for ‘Sex’ radio buttons, radio buttons not setup properly for value submission / toggle in group. Its just all bad in that area.</li>\n  <li>fieldset “sex” radio buttons are not constructed correctly. should be Male – tags are used with select lists not radio buttons. All radio buttons in a group need the same name attribute</li>\n  <li>radio inputs don’t take options, but should instead have the same name w/ different values</li>\n  <li>checkboxes with the same name would override re: checkbox inputs w/ name vehicle</li>\n</ul>\n\n<p>checkboxes pass values <em>only if</em> the box is checked and, like other form\nelements, case easily pass in multiple values under the same name.  it’s only\nbecause rails’ stuff them into a hash that this appears not to be true.</p>\n\n<p>in general, don’t rely on helpers to generate the correct html for you. learn\nhow radio buttons, checkboxen, and selects work under the hood.</p>\n\n<hr />\n<h3 id=\"chickens\">chickens</h3>\n<hr />\n\n<p><img src='/ro/dojo4/know-thy-forms/assets/chickens.jpeg' alt=\"img\" /></p>\n\n\n</div>\n",
      "assets": {
        "chickens.jpeg": {
          "url": "/ro/dojo4/know-thy-forms/assets/chickens.jpeg",
          "path": "dojo4/know-thy-forms/assets/chickens.jpeg",
          "size": 8,
          "img": {
            "format": "jpeg",
            "width": 768,
            "height": 1024
          },
          "src": null
        }
      },
      "_meta": {
        "identifier": "dojo4/know-thy-forms",
        "type": "dojo4",
        "id": "know-thy-forms",
        "urls": [
          "/ro/dojo4/know-thy-forms/assets/chickens.jpeg",
          "/ro/dojo4/know-thy-forms/body.md"
        ],
        "created_at": "2025-05-06 08:47:14 +0000",
        "updated_at": "2025-05-06 08:47:14 +0000",
        "rel": {
          "curr": "dojo4/know-thy-forms",
          "prev": "dojo4/non-icky-javascript-helper-ap-is-on-your-rails-controllers",
          "next": "dojo4/another-quiz"
        }
      }
    }
  },
  "_meta": {
    "url": "/ro",
    "type": "dojo4",
    "id": "know-thy-forms"
  }
}