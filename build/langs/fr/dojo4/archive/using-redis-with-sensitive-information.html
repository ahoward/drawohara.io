<html color-mode="user" lang="fr">
  <head>
    <base href='/fr' />
    <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DQVD9T27V4');
    </script>

    <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

    <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- meta -->
    <title>Utilisation de redis avec des informations sensibles</title>

    <meta property="og:title" content="Utilisation de redis avec des informations sensibles"/>
    <meta property="og:description" content="circulez." />
    <meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

    <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/fr/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"using-redis-with-sensitive-information"}">
    <meta property="site:path_info" content=""/using-redis-with-sensitive-information"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
      <hr>
    </header>

    <main>
      <div class="ro markdown">
        <p><strong>Mise à jour :</strong> Le créateur de Redis <a href="https://github.com/antirez">Salvatore Sanfilippo</a> a répondu à ma demande de tirage documentant cette méthode de désactivation de <code>bgsave</code> avec <a href="https://github.com/antirez/redis/pull/1683#issuecomment-41163718">ce commentaire</a>. Comme il est d'accord qu'il devrait y avoir un processus de conception communautaire autour de la prise en charge de la désactivation de la persistance dans Redis, j'ai ajouté une <a href="https://github.com/antirez/redis/issues/1704">nouvelle issue</a> pour permettre cette discussion. J'ai hâte de voir le processus de conception et d'en faire partie.</p>

        <p><strong>Mise à jour :</strong> Le travail initial sur la prise en charge officielle d'une configuration 'désactiver la persistance' a commencé par <a href="https://twitter.com/mattsta">Matt Stancliff</a>. Voir le travail de Matt <a href="https://github.com/antirez/redis/issues/1704#issuecomment-42575432">ici</a>. C'est génial à voir. Merci Matt !</p>

        <p>J'ai passé des heures à rechercher et à élaborer des plans pour empêcher <a href="redis.io">redis</a> d'écrire des valeurs de base de données sur le disque, car l'instance redis gérera des informations sensibles. (Dans notre cas, nous stockons des CVV pendant 60 minutes et, en raison de la conformité PCI concernant l'utilisation des cartes de crédit, nous ne pouvons absolument pas écrire ces valeurs sur le disque - jamais.)</p>

        <p>Lisez la documentation, le fichier de configuration, recherchez sur Google, testez et essayez même de lui dire d'écrire dans <code>/dev/null</code>.</p>

        <p>Finalement, la réponse est venue de 'TheRealBill_here' sur le canal irc <code>#redis</code> :</p>

        <pre><code>dbfilename ""
        </code></pre>

        <p>dans le fichier de configuration.</p>

        <p>Voici <a href="http://irclogger.com/.redis/2014-04-14#1397514047">un lien vers toute notre conversation</a> si vous êtes intéressé.</p>

        <p>J'ai également soumis <a href="https://github.com/antirez/redis/pull/1683">une demande de tirage</a> pour ajouter une note dans le fichier de configuration de redis.</p>

        <p>Cette réponse m'est venue après avoir déjà pris quelques autres décisions concernant la configuration de redis pour stocker des informations de carte de crédit :</p>

        <ul>
          <li><code>loglevel</code> a une valeur par défaut d'info, qui n'imprime pas chaque lecture/écriture, donc nous sommes bons là. Bien que pour notre cas d'utilisation, nous serions probablement à l'aise de désactiver simplement la journalisation.</li>
          <li>La directive <code>save</code> est définie sur <code>save ""</code> afin que la création de snapshot soit définitivement désactivée.</li>
          <li><code>replication</code> n'est pas en jeu. Lors de l'utilisation de la réplication, le maître initialise un esclave en écrivant son propre contenu de base de données sur le disque, en envoyant ce fichier à l'esclave, et l'esclave charge le dump de la base de données dans sa base de données. Évidemment, nous ne pouvons pas faire cela. (Notez également que si nous ajoutions un esclave à un moment donné, il ne pourrait pas se synchroniser avec notre configuration actuelle de <code>dbfilename ""</code>. Voir le journal pour l'erreur lorsque vous appelez <code>bgsave</code> depuis <code>redis-cli</code> vous-même.)</li>
        </ul>

      </div>
    </main>

    <footer>
      <hr>
      <a href="/goto" name="goto">&mdash;&gt; aller à</a>
      <blockquote>
        <ul>
          <li>
            <a href="/about">à propos<a>
          </li>
          <li>
            <a href="mailto:i-hate-this@drawohara.io?subject=/using-redis-with-sensitive-information">je-déteste-ça<a>
          </li>
          <li>
            <a href="mailto:i-love-this@drawohara.io?subject=/using-redis-with-sensitive-information">j-adore-ça<a>
          </li>
          <li>
            <a href="/contact">contact<a>
          </li>
        </ul>
      </blockquote>
      <a href="/">&lt;&mdash; éjecter</a>
    </footer>
  </body>
</html>