<html color-mode="user" lang="es">
  <head>
    <base href='/es' />
    <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DQVD9T27V4');
    </script>

    <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

    <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- meta -->
    <title>Finalmente, Todos los Productos se Fusionan en Uno y Una Lista los Atraviesa</title>
    <meta property="og:title" content="Finalmente, Todos los Productos se Fusionan en Uno y Una Lista los Atraviesa"/>
    <meta property="og:description" content="sigue adelante." />
    <meta property="og:image" content="https://drawohara.io/media/mick.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"eventually-all-products-merge-into-one-and-a-list-runs-through-it"}">
    <meta property="site:path_info" content=""/eventually-all-products-merge-into-one-and-a-list-runs-through-it"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }
      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }
      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
      <hr>
    </header>

    <main>
      <p>Recientemente, mientras ayudaba a un cliente a marcar una <a href="http://shopify.com" target="_blank">plantilla de Shopify</a>, me encontré con un problema espinoso: cómo fusionar la salida de un bucle con la de otro de manera fluida. Permíteme explicar.
      </p>
      <p>
        La mayoría de las plantillas de Shopify incluyen una "plantilla de colección" donde los productos se listan a través de un bucle <a href="http://wiki.shopify.com/UsingLiquid" target="_blank">Liquid</a>. La <a href="#figure1">Figura 1</a> muestra cómo suelen tomar forma dichas listas.
      </p>
      <figure id="figure1" class="pal lightestgrayBg mvl" style="text-align: center;">
        <img src='/ro/dojo4/eventually-all-products-merge-into-one-and-a-list-runs-through-it/assets/mockup.png' title="Maquetación" alt="Maquetación" />
        <figcaption class="mtm fontItalic">
          <strong><em>Figura 1</em></strong>: Una típica lista de productos de Shopify
        </figcaption>
      </figure>
      <p>
        Si no te opones a usar <code>TABLEs</code> para tales diseños, Liquid te tiene cubierto con su etiqueta <code>TABLEROW</code> (<a href="http://wiki.shopify.com/UsingLiquid#Tables">referencia</a>). Si los sistemas de cuadrícula son más tu velocidad, querrás emplear algún tipo de <a href="http://stackoverflow.com/questions/2245972/modulus-or-lack-thereof-in-rubys-liquid-templating-engine/8439160#8439160" target="_blank">truco de envoltura de fila</a>, ya que Liquid no tiene un enumerador <code>each_slice()</code> o un operador <code>modulus</code>.
      </p>
      <p>
        Pero si tú, como yo, piensas que la marca semánticamente apropiada para una lista de <strong>productos</strong> es una lista no ordenada (<code>UL</code>), estás comprometido a trabajar con un flujo de <code>LIs</code>.
      </p>
      <p>
        Como mencioné anteriormente, este diseño requería que una lista de colecciones de productos apareciera en línea con la lista de productos, pero no en cualquier lugar. Se suponía que debía ser el tercer elemento en la primera fila, como se muestra en la <a href="#figure2">Figura 2</a>.
      </p>
      <figure id="figure2" class="pal lightestgrayBg mvl" style="text-align: center;">
        <img src='/ro/dojo4/eventually-all-products-merge-into-one-and-a-list-runs-through-it/assets/desired-layout.png' title="Diseño Deseado" alt="Diseño Deseado" />
        <figcaption class="mtm fontItalic" style="text-align: center;">
          <strong><em>Figura 2</em></strong>: Un bucle de listado de productos aparentemente interrumpido por una lista de navegación
        </figcaption>
      </figure>
      <p>
        Ahora, no quería comenzar un bucle, detenerlo, comenzar otro, detenerlo y luego comenzar el primero nuevamente con un desplazamiento apropiado. Eso parecía demasiado manual. De nuevo, quería que la salida fuera un flujo de <code>LIs</code> de la siguiente manera:
      </p>
      <script src="https://gist.github.com/icegulch/8373741.js"></script>
      <p>
        Así que eso me dejó con dos opciones para distribuir este flujo de <code>LIs</code>: flotando y aclarándolos o alineándolos en bloque.
      </p>
      <p>
        Es fácil imaginarse cómo podrías lograr el diseño deseado con flotantes, flotando cada <code>LI</code> a la izquierda, excepto el primero, que se flotaría a la derecha. Pero la opción de flotar requiere un cuidadoso aclaramiento, tanto el <code>UL</code> mismo como cada tercer <code>LI</code> (comenzando con el primero) debe ser aclarado para evitar el problema revelado en la <a href="#figure3">Figura 3</a>.
      </p>
      <figure id="figure3" class="pal lightestgrayBg mvl" style="text-align: center;">
        <img src='/ro/dojo4/eventually-all-products-merge-into-one-and-a-list-runs-through-it/assets/float-issue.png' title="Problema de Flotación" alt="Problema de Flotación" />
        <figcaption class="mtm fontItalic" style="text-align: center;">
          <strong><em>Figura 3</em></strong>: Cuando el primer LI en cada "fila" no se aclara...
        </figcaption>
      </figure>
      <p>
        La etiqueta <code>CYCLE</code> de Liquid (<a href="http://wiki.shopify.com/UsingLiquid#Cycle">referencia</a>) es una manera útil de hacer esto, al igual que los <a href="http://reference.sitepoint.com/css/pseudoclass-nthchild" target="_blank">pseudoselectores posicionales de CSS3</a>. Pero, cuando se requiere soporte para IE7/IE8, el ciclo es la mejor apuesta.
      </p>
      <p>
        Aún así, esta casa de cartas de aclaramiento me parecía frágil, así que me esforcé por poner en práctica la técnica de listado en bloque en línea mencionada anteriormente.
      </p>
      <script src="https://gist.github.com/icegulch/8373784.js"></script>
      <p>
        Lo que me llevó la mayor parte del camino, como demuestra la <strong>Figura 4</strong>.
      </p>
      <figure id="figure4" class="pal lightestgrayBg mvl" style="text-align: center;">
        <img src='/ro/dojo4/eventually-all-products-merge-into-one-and-a-list-runs-through-it/assets/initial-inline-block.png' title="Bloque en Línea Inicial" alt="Bloque en Línea Inicial" />
        <figcaption class="mtm fontItalic" style="text-align: center;">
          <strong><em>Figura 4</em></strong>: Primer intento de diseño en bloque en línea
        </figcaption>
      </figure>
      <p>
        Aunque la técnica de bloque en línea me liberó de las preocupaciones de aclaramiento, aún tuve que lidiar con el desafío de posicionamiento del diseño: la lista de navegación de productos debía estar alineada a la derecha en la primera fila. Flotarla a la derecha tampoco era la respuesta, ya que eso sometería nuestro diseño al mismo riesgo mostrado en la <a href="#figure3">Figura 3</a>.
      </p>
      <p>
        Fue entonces cuando tuve una idea loca: ¿y si cambiaba la dirección del idioma del <code>UL</code> para que la lista se mostrara de derecha a izquierda? Animado por un <a href="http://css-tricks.com/star-ratings/" target="_blank">artículo reciente de Chris Coyier</a>, decidí intentarlo. Esto es lo que finalmente se me ocurrió:
      </p>
      <script src="https://gist.github.com/icegulch/8373820.js"></script>
      <p>
        Como puedes ver, tuve que cambiar la dirección del idioma en el <code>UL</code> contenedor, luego restablecerla en los elementos dentro de sus <code>LIs</code> (por alguna razón, restablecer la dirección del idioma en los <code>LIs</code> mismos no funcionó en Opera). También tuve que establecer el tamaño de la fuente en el <code>UL</code> en cero para <a href="http://css-tricks.com/fighting-the-space-between-inline-block-elements/" target="_blank">evitar esto</a>.
      </p>
      <p>
        Dado que el listado de productos en esta tienda no requería un orden específico (alfabético, precio, etc.), estaba bien que la salida fluyera de derecha a izquierda, como se muestra en la <a href="#figure5">Figura 5</a>.
      </p>
      <figure id="figure5" class="pal lightestgrayBg mvl" style="text-align: center;">
        <img src='/ro/dojo4/eventually-all-products-merge-into-one-and-a-list-runs-through-it/assets/inline-block-final.png' title="Bloque en Línea Final" alt="Bloque en Línea Final" />
        <figcaption class="mtm fontItalic" style="text-align: center;">
          <strong><em>Figura 5</em></strong>: el cambio de dirección del idioma en acción
        </figcaption>
      </figure>
      <p>
        Aunque hay pros y contras en los diseños flotantes e inline-block, pensé que este último era un poco más elegante en esta situación. ¿Alguno de ustedes se ha encontrado con esto? ¿Están <a href="http://youtu.be/ATKQLgi5Z2Y" target="_blank">perseguidos por</a> listas?
      </p>
    </main>

    <footer>
      <hr>
      <a href="/goto" name="goto">&mdash;&gt; ir</a>
      <blockquote>
        <ul>
          <li>
            <a href="/about">sobre</a>
          </li>
          <li>
            <a href="mailto:i-hate-this@drawohara.io?subject=/eventually-all-products-merge-into-one-and-a-list-runs-through-it">i-hate-this</a>
          </li>
          <li>
            <a href="mailto:i-love-this@drawohara.io?subject=/eventually-all-products-merge-into-one-and-a-list-runs-through-it">i-love-this</a>
          </li>
          <li>
            <a href="/contact">contacto</a>
          </li>
        </ul>
      </blockquote>
      <a href="/">&lt;&mdash; salir</a>
    </footer>
  </body>
</html>