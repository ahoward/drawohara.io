<html color-mode="user" lang="it">
  <head>
    <base href='/it' />
    <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-DQVD9T27V4');
    </script>

    <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

    <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

    <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

    <!-- meta -->
    <title>AWS, DNS &amp; HTTPS @ Hosting Doj4</title>

    <meta property="og:title" content="AWS, DNS &amp; HTTPS @ Hosting Doj4"/>
    <meta property="og:description" content="proseguire." />
    <meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

    <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"aws-dns-https-doj4-hosting"}">
    <meta property="site:path_info" content=""/aws-dns-https-doj4-hosting"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
      <hr>
    </header>

    <main>
      <div class="ro markdown">
        <p>Hosting, DNS &amp; HTTPS spesso richiedono l'interazione di più fornitori. Spesso diventa ingestibile se non gestito efficacemente.</p>

        <p>DNS richiede sia la gestione dei record che la registrazione del dominio. Per entrambi Dojo4 ha utilizzato <a href="http://dyn.com/dns">DyDNS</a> per molti anni.</p>

        <p>Dojo4 generalmente utilizza <a href="http://aws.amazon.com/ec2">computer cloud Amazon AWS EC2</a> per l'hosting e quindi tende a utilizzare <a href="http://aws.amazon.com/elasticloadbalancing">bilanciatori di carico AWS ELB</a> davanti a quegli host web. Purtroppo, Amazon non fornisce indirizzi IP coerenti per le istanze ELB e quindi l'unico modo per creare record di dominio di secondo livello che puntano alle istanze ELB è utilizzare <a href="http://aws.amazon.com/route53">Amazon AWS Route53</a> per la gestione dei record che ha un record alias speciale per questo scopo. Quindi, tendiamo a utilizzare Route53 per la gestione dei record DNS.</p>

        <p>A causa del modo in cui le negoziazioni TLS handshake sono gestite da linux/apache, sei limitato al numero di certificati SSL che possono essere serviti al numero di IP sull'host. Con EC2 questo è essenzialmente un singolo cert se non si utilizza un <a href="http://aws.amazon.com/vpc">VPC</a>. Dojo4 spesso utilizza ELB per fornire SSL come mezzo per aggirare questo.</p>

        <p>DNS &amp; HTTPS sono strettamente correlati poiché i domini e i sottodomini da proteggere devono essere elencati prima della fornitura del certificato. Spesso la strategia più conveniente e flessibile è ottenere un certificato wildcard. Nota, tuttavia, che non tutti gli emittenti di certificati wildcard includono il dominio di base nel certificato (quindi puoi utilizzare il cert solo per proteggere *.somedomain.com, e non somedomain.com). Il certificato wildcard da $100/anno di <a href="dnsimple.com">dnsimple.com</a> emesso da <a href="http://comodo.com">Comodo</a> e che include il dominio di base è un buon affare anche con il costo di hosting DNS dnsimple di $96 ($8/mese * 12 mesi).</p>

        <p>dnsimple ha altre caratteristiche convenienti come la possibilità di delegare la gestione dei set di record ad altri account utente dnsimple. Poiché abbiamo spostato la gestione dei set di record da DynDNS a Route53 e abbiamo un account su dnsimple per la fornitura di SSL, abbiamo spostato la registrazione del dominio da DynDNS a dnsimple per consolidare i servizi.</p>

        <p>Alcuni utili comandi da riga di comando:</p>

        <p>Trova l'inizio dell'autorità per un record DNS</p>
        <blockquote>
          <p>dig SOA dojo4.com</p>
        </blockquote>

        <p>Visualizza il certificato che un host sta servendo</p>
        <blockquote>
          <p>openssl s_client -showcerts -connect dojo4.com:443 &lt; /dev/null</p>
        </blockquote>

        <p>Accedi a un server web tramite IP ignorando la verifica SSL</p>
        <blockquote>
          <p>curl -k https://184.72.61.241 -H “Host: projects.dojo4.com”</p>
        </blockquote>

      </div>
    </main>

    <footer>
      <hr>
      <a href="/goto" name="goto">&mdash;&gt; vai a</a>
      <blockquote>
      <ul>
        <li>
          <a href="/about">chi siamo</a>
        </li>
        <li>
          <a href="mailto:i-hate-this@drawohara.io?subject=/aws-dns-https-doj4-hosting">non mi piace</a>
        </li>
        <li>
          <a href="mailto:i-love-this@drawohara.io?subject=/aws-dns-https-doj4-hosting">mi piace</a>
        </li>
        <li>
          <a href="/contact">contatti</a>
        </li>
      </ul>
      </blockquote>
      <a href="/">&lt;&mdash; esci</a>
    </footer>
  </body>
</html>