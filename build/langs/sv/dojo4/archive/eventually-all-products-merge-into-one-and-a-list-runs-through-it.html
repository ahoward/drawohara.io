<html color-mode="user" lang="sv">
  <head>
  <base href='/sv' />
  <!-- ga -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DQVD9T27V4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DQVD9T27V4');
</script>

  <!-- deps -->
    <script type="module" src="/assets/js/turbo.es2017-esm.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.fuchsia.min.css"
    >

  <!-- defaults -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />

  <!-- favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">

  <!-- meta -->
    <title>Till slut, alla produkter smälter ihop till en och en lista rinner igenom den</title>

<meta property="og:title" content="Till slut, alla produkter smälter ihop till en och en lista rinner igenom den"/>
<meta property="og:description" content="fortsätt." />
<meta property="og:image" content="https://drawohara.io/media/mick.jpg" />

  <meta property="og:image:type" content="image/jpeg" />

    <meta property="site:route" content=""/dojo4/archive/:id"">
    <meta property="site:params" content="{"ext":null,"id":"till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den"}">
    <meta property="site:path_info" content=""/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den"">

    <style>
      /* anti pico */
      a {text-decoration: none !important; }

      /* anti turbo */
      html { transition: none !important; }
      .turbo-progress-bar { visibility: hidden; }

      /* anti progressive */
      html { margin: 1em; }
      img { display: block; text-align: center; }
    </style>

    <script>
      document.addEventListener("turbo:load", function() {
        const progressBar = document.querySelector('.turbo-progress-bar');
        if (progressBar) {
          progressBar.remove();
        }
      });
    </script>
  </head>

  <body>
    <header>
      <a href="/home">@drawohara</a>
<hr>
    </header>

    <main>
      <p>Nyligen, när jag hjälpte en kund att markera ett <a href="http://shopify.com" target="_blank">Shopify</a> tema, stötte jag på ett taggigt problem: hur man sammanfogar utdata från en loop med den från en annan på ett smidigt sätt. Låt mig förklara.</p>
    <p>
      De flesta Shopify-teman innehåller en "samlingmall" där produkter listas via en <a href="http://wiki.shopify.com/UsingLiquid" target="_blank">Liquid</a> loop. <a href="#figure1">Figur 1</a> visar hur sådana listor ofta tar form.
    </p>
    <figure id="figure1" class="pal lightestgrayBg mvl" style="text-align: center;"><img src='/ro/dojo4/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den/assets/mockup.png' title="Mockup" alt="Mockup" /><figcaption class="mtm fontItalic">
        <strong><em>Figur 1</em></strong>: En typisk Shopify-produktlistning
      </figcaption>
    </figure>
    <p>
      Om du inte är emot att använda <code>TABLEs</code> för sådana layouts, har Liquid dig täckt med sin <code>TABLEROW</code> tag (<a href="http://wiki.shopify.com/UsingLiquid#Tables">referens</a>). Om rutsystem är mer ditt tempo, vill du använda någon form av <a href="http://stackoverflow.com/questions/2245972/modulus-or-lack-thereof-in-rubys-liquid-templating-engine/8439160#8439160" target="_blank">radbrytningshack</a>, eftersom Liquid inte har en <code>each_slice()</code> enumerator eller <code>modulus</code> operator.
    </p>
    <p>
      Men om du, som jag, tror att den semantiskt lämpliga markeringen för en produkt <strong>lista</strong> är en oordnad lista (<code>UL</code>), är du förpliktigad att arbeta med en ström av <code>LIs</code>.
    </p>
    <p>
      Som jag nämnde ovan krävde denna design att en lista med produktsamlingar skulle visas inom den vanliga produktlistan, men inte någonstans. Det skulle vara det tredje objektet i den första raden, som visas i <a href="#figure2">Figur 2</a>.
    </p>
    <figure id="figure2" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/ro/dojo4/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den/assets/desired-layout.png' title="Önskad layout" alt="Önskad layout" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figur 2</em></strong>: En produktlistningsloop som avbryts av en navigationslista
      </figcaption>
    </figure>
    <p>
      Nu ville jag inte starta en loop, stoppa den, starta en annan, stoppa den och sedan starta den första igen med ett lämpligt offset. Det verkade för manuellt. Jag ville att utdatan skulle vara en ström av <code>LIs</code> så här:
    </p>
      <script src="https://gist.github.com/icegulch/8373741.js"></script>
    <p>
      Så det lämnade mig med två val för att lägga ut denna ström av <code>LIs</code>: flyta och rensa dem eller inline-blocka dem.
    </p>
    <p>
      Det är lätt nog att föreställa sig hur du skulle kunna uppnå den önskade layouten med flytande, flyta varje <code>LI</code> till vänster, förutom den första, som skulle flyta till höger. Men flytalternativet kräver noga rensning – både den <code>UL</code> själv och varje tredje <code>LI</code> (börjande med den första) måste rensas för att undvika problemet som avslöjas i <a href="#figure3">Figur 3</a>.
    </p>
    <figure id="figure3" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/ro/dojo4/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den/assets/float-issue.png' title="Flytproblem" alt="Flytproblem" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figur 3</em></strong>: När den första LI i varje "rad" inte rensas...
      </figcaption>
    </figure>
    <p>
      Liquids <code>CYCLE</code> tag (<a href="http://wiki.shopify.com/UsingLiquid#Cycle">referens</a>) är ett trevligt sätt att göra detta, liksom CSS3s <a href="http://reference.sitepoint.com/css/pseudoclass-nthchild" target="_blank">positionella pseudoselektorer</a>. Men när stöd för IE7/IE8 krävs är cykling det bättre alternativet.
    </p>
    <p>
      Ändå kändes detta korthus av rensningskort känslomässigt för många, så jag strävade efter att använda den tidigare nämnda inline-block-listningstekniken.
    </p>
    <script src="https://gist.github.com/icegulch/8373784.js"></script>
    <p>
       Vilket tog mig de flesta vägen, som <strong>Figur 4</strong> visar.
    </p>
    <figure id="figure4" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/ro/dojo4/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den/assets/initial-inline-block.png' title="Inledande inline-block" alt="Inledande inline-block" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figur 4</em></strong>: Första försöket på inline-block layout
      </figcaption>
    </figure>
    <p>
      Även om inline-block-tekniken befriade mig från rensningsbekymmer, måste jag fortfarande hantera positioneringsutmaningen i designen: produktnavigationslistan skulle vara flush till höger i den första raden. Att flyta den till höger var inte heller lösningen, eftersom det skulle utsätta vår layout för samma risk som visas i <a href="#figure3">Figur 3</a>.
    </p>
    <p>
      Det var då jag hade en galen idé: vad skulle hända om jag ändrade språkriktningen på <code>UL</code> så att listan skulle visas från höger till vänster? Uppmuntrad av en <a href="http://css-tricks.com/star-ratings/" target="_blank">nylig Chris Coyier-artikel</a>, bestämde jag mig för att testa det. Här är vad jag slutligen kom på:
    </p>
<script src="https://gist.github.com/icegulch/8373820.js"></script>
<p>
      Som du kan se, måste jag ändra språkriktningen på den innehållande <code>UL</code>, och sedan återställa den på element inom dess <code>LIs</code> (för någon anledning fungerade det inte att återställa språkriktningen på <code>LIs</code> själva i Opera). Jag måste också ställa in teckensnittsstorleken på <code>UL</code> till noll för att <a href="http://css-tricks.com/fighting-the-space-between-inline-block-elements/" target="_blank">undvika detta</a>.
    </p>
    <p>
      Eftersom listningen av produkter i denna butik inte krävde specifik sortering (alfabetisk, pris, etc.), var det okej för utdatan att flyta från höger till vänster, som visas i <a href="#figure5">Figur 5</a>.
    </p>
    <figure id="figure5" class="pal lightestgrayBg mvl" style="text-align: center;">
      <img src='/ro/dojo4/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den/assets/inline-block-final.png' title="Slutlig inline-block" alt="Slutlig inline-block" />
      <figcaption class="mtm fontItalic" style="text-align: center;">
        <strong><em>Figur 5</em></strong>: språkriktningsbytet i aktion
      </figcaption>
    </figure>
    <p>
      Även om det finns för- och nackdelar med både flytande och inline-blockade layouts, tyckte jag att den senare var lite mer elegant i denna situation. Har någon av er stött på detta? Är ni <a href="http://youtu.be/ATKQLgi5Z2Y" target="_blank">hemsökta av</a> listor?
    </p>
    </main>

    <footer>
      <hr>
<a href="/goto" name="goto">&mdash;&gt; goto</a>
<blockquote>
<ul>
  <li>
    <a href="/about">om<a>
  </li>
  <li>
    <a href="mailto:i-hate-this@drawohara.io?subject=/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den">i-hate-this<a>
  </li>
  <li>
    <a href="mailto:i-love-this@drawohara.io?subject=/till-slut-alla-produkter-smalter-ihop-till-en-och-en-lista-rinner-igenom-den">i-love-this<a>
  </li>
  <li>
    <a href="/contact">kontakt<a>
  </li>
</ul>
</blockquote>
<a href="/">&lt;&mdash; eject</a>
    </footer>
  </body>
</html>